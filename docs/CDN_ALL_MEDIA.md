# üéâ –í—Å–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã —Ç–µ–ø–µ—Ä—å –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ CDN!

## ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

### 1. **–õ–æ–≥–æ—Ç–∏–ø—ã –∫—É—Ä—Å–æ–≤** - `uploadCourseImageServerAction.ts`
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ CDN
- ‚úÖ URL: `https://gafus-media.gafus.ru/uploads/courses/`

### 2. **–ê–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - `updateAvatar.ts`
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ CDN
- ‚úÖ URL: `https://gafus-media.gafus.ru/uploads/avatars/`

### 3. **–ê–≤–∞—Ç–∞—Ä–∫–∏ –ø–∏—Ç–æ–º—Ü–µ–≤** - `updatePetAvatar.ts`
- ‚úÖ –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ CDN
- ‚úÖ URL: `https://gafus-media.gafus.ru/uploads/pets/`

## üöÄ **–ö–∞–∫ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞:**

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Ñ–∞–π–ª** —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å–∞–π—Ç–∞
2. **–§–∞–π–ª –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è** –≤ Uint8Array –≤ –ø–∞–º—è—Ç–∏
3. **–°–æ–∑–¥–∞–µ—Ç—Å—è –≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª** –≤ `/tmp/`
4. **–§–∞–π–ª –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è** –≤ Object Storage —á–µ—Ä–µ–∑ `yc storage s3 cp`
5. **–í—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–∞–π–ª —É–¥–∞–ª—è–µ—Ç—Å—è**
6. **CDN –Ω–∞—á–∏–Ω–∞–µ—Ç —Ä–∞–∑–¥–∞–≤–∞—Ç—å** —Ñ–∞–π–ª —á–µ—Ä–µ–∑ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç
7. **URL —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è** –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

## üí∞ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**

‚úÖ **–ù–µ—Ç –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è** - —ç–∫–æ–Ω–æ–º–∏—è –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ  
‚úÖ **–¢–æ–ª—å–∫–æ CDN** - –Ω–∏–∫–∞–∫–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è  
‚úÖ **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É  
‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ 1 –≥–æ–¥  
‚úÖ **–í—ã—Å–æ–∫–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** CDN  

## üåê **URL —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**

- **–ê–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:** `/uploads/avatars/avatar-{userId}-{timestamp}.{ext}`
- **–ê–≤–∞—Ç–∞—Ä–∫–∏ –ø–∏—Ç–æ–º—Ü–µ–≤:** `/uploads/pets/pet-{petId}-{timestamp}.{ext}`
- **–õ–æ–≥–æ—Ç–∏–ø—ã –∫—É—Ä—Å–æ–≤:** `/uploads/courses/{uuid}.{ext}`

## üîß **–ù–∞—Å—Ç—Ä–æ–π–∫–∞:**

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:
```env
CDN_ENABLED=true
NODE_ENV=production
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã:
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–∞–π–ª–∞ –≤ CDN
curl -I https://gafus-media.gafus.ru/uploads/avatars/test.jpg
curl -I https://gafus-media.gafus.ru/uploads/pets/test.jpg
curl -I https://gafus-media.gafus.ru/uploads/courses/test.jpg
```

## üéØ **–†–µ–∑—É–ª—å—Ç–∞—Ç:**

**–¢–µ–ø–µ—Ä—å –≤—Å–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª—ã (–∞–≤–∞—Ç–∞—Ä–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∞–≤–∞—Ç–∞—Ä–∫–∏ –ø–∏—Ç–æ–º—Ü–µ–≤, –ª–æ–≥–æ—Ç–∏–ø—ã –∫—É—Ä—Å–æ–≤) –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ CDN!**

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ - –Ω–∏–∫–∞–∫–æ–≥–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è, —Ç–æ–ª—å–∫–æ CDN! üöÄ**
