# Trainer Panel (@gafus/trainer-panel)

## üìã –û–±–∑–æ—Ä

Trainer Panel - —ç—Ç–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Å–∏—Å—Ç–µ–º—ã GAFUS, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∞—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∫—É—Ä—Å–æ–≤, —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏.

## üéØ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –î–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤
- **üë• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏** - –ü—Ä–æ—Å–º–æ—Ç—Ä –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª–µ–π
- **üìù –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞** - –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∫—É—Ä—Å–æ–≤ –∏ —à–∞–≥–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- **üìä –ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- **‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–∫–∑–∞–º–µ–Ω–æ–≤** - –û—Ü–µ–Ω–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- **üìà –û—Ç—á–µ—Ç—ã** - –î–µ—Ç–∞–ª—å–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫—É—Ä—Å–∞–º –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
- **üîß –°–∏—Å—Ç–µ–º–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- **üë§ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏** - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- **üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** - –°–∏—Å—Ç–µ–º–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- **üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```
apps/trainer-panel/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ app/                    # App Router —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ (main)/            # –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ main-panel/    # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/               # API routes
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ layout.tsx         # –ö–æ—Ä–Ω–µ–≤–æ–π layout
‚îÇ   ‚îú‚îÄ‚îÄ features/              # –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin/             # –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ courses/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ exam-results/      # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ statistics/        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ steps/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —à–∞–≥–∞–º–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ users/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ shared/                # –û–±—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/             # React —Ö—É–∫–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ lib/               # –£—Ç–∏–ª–∏—Ç—ã –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ providers/         # Context –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã
‚îÇ   ‚îî‚îÄ‚îÄ utils/                 # –£—Ç–∏–ª–∏—Ç—ã
‚îî‚îÄ‚îÄ public/                    # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã
```

### –†–æ—É—Ç–∏–Ω–≥
```typescript
// App Router —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
app/
‚îú‚îÄ‚îÄ (main)/
‚îÇ   ‚îî‚îÄ‚îÄ main-panel/
‚îÇ       ‚îú‚îÄ‚îÄ dashboard/         # –ì–ª–∞–≤–Ω–∞—è –ø–∞–Ω–µ–ª—å
‚îÇ       ‚îú‚îÄ‚îÄ courses/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ users/             # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
‚îÇ       ‚îú‚îÄ‚îÄ statistics/        # –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ exam-results/      # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–æ–≤
‚îî‚îÄ‚îÄ login/                     # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
```

## üé® UI –∏ UX

### –î–∏–∑–∞–π–Ω —Å–∏—Å—Ç–µ–º–∞
- **Material-UI** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Data Grid** –¥–ª—è —Ç–∞–±–ª–∏—Ü –¥–∞–Ω–Ω—ã—Ö
- **Charts** –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- **Responsive design** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã

#### Dashboard
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- –ê–∫—Ç–∏–≤–Ω—ã–µ –∫—É—Ä—Å—ã –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –ü–æ—Å–ª–µ–¥–Ω–∏–µ —ç–∫–∑–∞–º–µ–Ω—ã –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
- –ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫—É—Ä—Å–∞–º–∏
- –°–æ–∑–¥–∞–Ω–∏–µ –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—É—Ä—Å–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–Ω—è–º–∏ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- –°–æ–∑–¥–∞–Ω–∏–µ —à–∞–≥–æ–≤ –∏ —ç–∫–∑–∞–º–µ–Ω–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞-–∫–æ–Ω—Ç–µ–Ω—Ç–∞

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è—Ö
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ –∏ –ø—Ä–∞–≤–∞–º–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

#### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —ç–∫–∑–∞–º–µ–Ω–æ–≤
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–¥–∞–Ω–Ω—ã—Ö —ç–∫–∑–∞–º–µ–Ω–æ–≤ –ø–æ –∫—É—Ä—Å–∞–º —Ç—Ä–µ–Ω–µ—Ä–∞
- **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è:** Toggle "–°–∫—Ä—ã—Ç—å –∑–∞—á—Ç—ë–Ω–Ω—ã–µ —ç–∫–∑–∞–º–µ–Ω—ã" –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:** –°—á—ë—Ç—á–∏–∫–∏ –≤—Å–µ–≥–æ/–æ–∂–∏–¥–∞—é—â–∏—Ö/–∑–∞—á—Ç—ë–Ω–Ω—ã—Ö —ç–∫–∑–∞–º–µ–Ω–æ–≤
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫:** –ü—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–µ —Ñ–∏–ª—å—Ç—Ä–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage
- –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã–µ –≤–æ–ø—Ä–æ—Å—ã
- –ü—Ä–æ—Å–º–æ—Ç—Ä –ø–∏—Å—å–º–µ–Ω–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
- –ü—Ä–æ—Å–º–æ—Ç—Ä –≤–∏–¥–µ–æ –æ—Ç—á—ë—Ç–æ–≤
- –ö–Ω–æ–ø–∫–∞ "–ó–∞—á–µ—Å—Ç—å" –¥–ª—è —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è —ç–∫–∑–∞–º–µ–Ω–∞
- –°—Ç–∞—Ç—É—Å—ã: "–û–∂–∏–¥–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏" (IN_PROGRESS), "–ó–∞—á—Ç–µ–Ω–æ" (COMPLETED)

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –∫—É—Ä—Å–∞–º
- –û—Ç—á–µ—Ç—ã –ø–æ —ç–∫–∑–∞–º–µ–Ω–∞–º
- –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### Material-UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
```typescript
// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ç–µ–º—ã
import { createTheme } from '@mui/material/styles';

const theme = createTheme({
  palette: {
    primary: {
      main: '#1976d2',
    },
    secondary: {
      main: '#dc004e',
    },
  },
  components: {
    MuiDataGrid: {
      styleOverrides: {
        root: {
          '& .MuiDataGrid-cell': {
            borderBottom: '1px solid #e0e0e0',
          },
        },
      },
    },
  },
});
```

### Data Grid –¥–ª—è —Ç–∞–±–ª–∏—Ü
```typescript
import { DataGrid, GridColDef } from '@mui/x-data-grid';

const columns: GridColDef[] = [
  { field: 'id', headerName: 'ID', width: 90 },
  { field: 'username', headerName: '–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å', width: 150 },
  { field: 'email', headerName: 'Email', width: 200 },
  { field: 'role', headerName: '–†–æ–ª—å', width: 120 },
];

function UsersTable({ users }: { users: User[] }) {
  return (
    <DataGrid
      rows={users}
      columns={columns}
      pageSize={25}
      rowsPerPageOptions={[25, 50, 100]}
      checkboxSelection
      disableSelectionOnClick
    />
  );
}
```

### Charts –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
```typescript
import { LineChart, Line, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer } from 'recharts';

function StatisticsChart({ data }: { data: any[] }) {
  return (
    <ResponsiveContainer width="100%" height={400}>
      <LineChart data={data}>
        <CartesianGrid strokeDasharray="3 3" />
        <XAxis dataKey="name" />
        <YAxis />
        <Tooltip />
        <Line type="monotone" dataKey="users" stroke="#8884d8" />
        <Line type="monotone" dataKey="courses" stroke="#82ca9d" />
      </LineChart>
    </ResponsiveContainer>
  );
}
```

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã–º–∏

### React Query –¥–ª—è —Å–µ—Ä–≤–µ—Ä–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
```typescript
import { useQuery, useMutation, useQueryClient } from '@gafus/react-query';

function CoursesManager() {
  const queryClient = useQueryClient();
  
  const { data: courses, isLoading } = useQuery({
    queryKey: ['courses'],
    queryFn: fetchCourses
  });

  const createCourse = useMutation({
    mutationFn: createNewCourse,
    onSuccess: () => {
      queryClient.invalidateQueries(['courses']);
    }
  });

  return (
    <div>
      {isLoading ? <Loading /> : <CoursesList courses={courses} />}
      <CreateCourseButton onClick={() => createCourse.mutate()} />
    </div>
  );
}
```

### –§–æ—Ä–º—ã —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
```typescript
import { useForm } from 'react-hook-form';
import { zodResolver } from '@hookform/resolvers/zod';
import { z } from 'zod';

const courseSchema = z.object({
  name: z.string().min(1, '–ù–∞–∑–≤–∞–Ω–∏–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ'),
  description: z.string().min(10, '–û–ø–∏—Å–∞–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 10 —Å–∏–º–≤–æ–ª–æ–≤'),
  trainingLevel: z.enum(['BEGINNER', 'INTERMEDIATE', 'ADVANCED', 'EXPERT']),
});

function CourseForm() {
  const { register, handleSubmit, formState: { errors } } = useForm({
    resolver: zodResolver(courseSchema)
  });

  const onSubmit = (data: any) => {
    createCourse.mutate(data);
  };

  return (
    <form onSubmit={handleSubmit(onSubmit)}>
      <TextField
        {...register('name')}
        error={!!errors.name}
        helperText={errors.name?.message}
        label="–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞"
      />
      {/* –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø–æ–ª—è */}
    </form>
  );
}
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

### –†–æ–ª–µ–≤–∞—è –º–æ–¥–µ–ª—å –¥–æ—Å—Ç—É–ø–∞
```typescript
import { withRole } from '@gafus/auth/server';

// –¢–æ–ª—å–∫–æ –¥–ª—è —Ç—Ä–µ–Ω–µ—Ä–æ–≤ –∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
export default withRole(['TRAINER', 'ADMIN'])(async function handler(req, res) {
  const users = await getUsers();
  res.json({ users });
});

// –¢–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
export default withRole(['ADMIN'])(async function handler(req, res) {
  const systemStats = await getSystemStats();
  res.json({ stats: systemStats });
});
```

### Middleware –¥–ª—è –∑–∞—â–∏—Ç—ã –º–∞—Ä—à—Ä—É—Ç–æ–≤
```typescript
// middleware.ts
import { withAuth } from 'next-auth/middleware';

export default withAuth({
  callbacks: {
    authorized: ({ token, req }) => {
      const { pathname } = req.nextUrl;
      
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
      if (pathname.startsWith('/main-panel/admin')) {
        return token?.role === 'ADMIN';
      }
      
      if (pathname.startsWith('/main-panel')) {
        return ['TRAINER', 'ADMIN', 'MODERATOR'].includes(token?.role);
      }
      
      return !!token;
    },
  },
});

export const config = {
  matcher: ['/main-panel/:path*']
};
```

## üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
```typescript
function UserStatistics() {
  const { data: stats } = useQuery({
    queryKey: ['user-statistics'],
    queryFn: fetchUserStatistics
  });

  return (
    <Grid container spacing={3}>
      <Grid item xs={12} md={3}>
        <StatCard
          title="–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π"
          value={stats?.totalUsers}
          icon={<PeopleIcon />}
        />
      </Grid>
      <Grid item xs={12} md={3}>
        <StatCard
          title="–ê–∫—Ç–∏–≤–Ω—ã—Ö —Å–µ–≥–æ–¥–Ω—è"
          value={stats?.activeToday}
          icon={<OnlineIcon />}
        />
      </Grid>
      {/* –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ */}
    </Grid>
  );
}
```

### –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
```typescript
function ExportData() {
  const exportUsers = useMutation({
    mutationFn: exportUsersToExcel,
    onSuccess: (data) => {
      const blob = new Blob([data], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = 'users.xlsx';
      a.click();
    }
  });

  return (
    <Button onClick={() => exportUsers.mutate()}>
      –≠–∫—Å–ø–æ—Ä—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    </Button>
  );
}
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Unit —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```typescript
import { render, screen, fireEvent } from '@testing-library/react';
import { CourseForm } from './CourseForm';

test('should create course successfully', async () => {
  const mockCreateCourse = jest.fn();
  render(<CourseForm onCreateCourse={mockCreateCourse} />);
  
  fireEvent.change(screen.getByLabelText('–ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞'), {
    target: { value: '–¢–µ—Å—Ç–æ–≤—ã–π –∫—É—Ä—Å' }
  });
  
  fireEvent.click(screen.getByText('–°–æ–∑–¥–∞—Ç—å –∫—É—Ä—Å'));
  
  expect(mockCreateCourse).toHaveBeenCalledWith({
    name: '–¢–µ—Å—Ç–æ–≤—ã–π –∫—É—Ä—Å',
    description: '',
    trainingLevel: 'BEGINNER'
  });
});
```

### E2E —Ç–µ—Å—Ç—ã
```typescript
import { test, expect } from '@playwright/test';

test('trainer can create course', async ({ page }) => {
  await page.goto('/main-panel/courses');
  await page.click('[data-testid="create-course-button"]');
  
  await page.fill('[data-testid="course-name"]', '–ù–æ–≤—ã–π –∫—É—Ä—Å');
  await page.fill('[data-testid="course-description"]', '–û–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ä—Å–∞');
  await page.selectOption('[data-testid="training-level"]', 'BEGINNER');
  
  await page.click('[data-testid="save-course"]');
  
  await expect(page.locator('[data-testid="success-message"]')).toBeVisible();
});
```

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```env
# Next.js
NEXT_PUBLIC_APP_URL=https://trainer.gafus.ru
NEXTAUTH_URL=https://trainer.gafus.ru
NEXTAUTH_SECRET=your-secret

# API
NEXT_PUBLIC_API_URL=https://api.gafus.ru

# –†–æ–ª–∏ –¥–æ—Å—Ç—É–ø–∞
TRAINER_PANEL_ALLOWED_ROLES=TRAINER,ADMIN,MODERATOR
```

### Docker
```dockerfile
FROM node:18-alpine AS base
WORKDIR /app

FROM base AS deps
COPY package*.json ./
RUN npm ci

FROM base AS build
COPY --from=deps /app/node_modules ./node_modules
COPY . .
RUN npm run build

FROM base AS runtime
COPY --from=build /app/.next ./.next
COPY --from=build /app/public ./public
EXPOSE 3001
CMD ["npm", "start"]
```

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–∞–Ω–¥—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
pnpm dev                    # –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (–ø–æ—Ä—Ç 3001)
pnpm build                  # –°–±–æ—Ä–∫–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞
pnpm start                  # –ó–∞–ø—É—Å–∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω –≤–µ—Ä—Å–∏–∏

# –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ç–∏–ø–∏–∑–∞—Ü–∏—è
pnpm lint                   # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞
pnpm typecheck             # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
```

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
```typescript
// –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
shared/components/
‚îú‚îÄ‚îÄ common/
‚îÇ   ‚îú‚îÄ‚îÄ StatCard.tsx        # –ö–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ DataTable.tsx       # –¢–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îî‚îÄ‚îÄ FormDialog.tsx      # –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ñ–æ—Ä–º—ã
‚îú‚îÄ‚îÄ ui/
‚îÇ   ‚îú‚îÄ‚îÄ Button.tsx          # –ö–Ω–æ–ø–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ Input.tsx           # –ü–æ–ª–µ –≤–≤–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ Select.tsx          # –í—ã–ø–∞–¥–∞—é—â–∏–π —Å–ø–∏—Å–æ–∫
‚îî‚îÄ‚îÄ Dashboard.tsx           # –û—Å–Ω–æ–≤–Ω–æ–π dashboard
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π
```typescript
import { logger } from '@gafus/logger';

// –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏–π —Ç—Ä–µ–Ω–µ—Ä–∞
logger.info('Trainer action', {
  action: 'course_created',
  trainerId: trainer.id,
  courseId: course.id,
  courseName: course.name
});
```

### –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
```typescript
// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏
const startTime = Date.now();
const users = await fetchUsers();
const loadTime = Date.now() - startTime;

logger.info('Performance metric', {
  operation: 'fetch_users',
  duration: loadTime,
  recordCount: users.length
});
```

---

*Trainer Panel –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –º–æ—â–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º–æ–π –æ–±—É—á–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–∏—Ö –∂–∏–≤–æ—Ç–Ω—ã—Ö –∏ –∞–Ω–∞–ª–∏–∑–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.*
