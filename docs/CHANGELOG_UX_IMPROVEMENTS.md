# üé® UX –£–ª—É—á—à–µ–Ω–∏—è - Mobile-First PWA

---

## üîó Open Graph –¥–ª—è —à–∞—Ä–∏–Ω–≥–∞ –∫—É—Ä—Å–æ–≤ –≤ Telegram –∏ —Å–æ—Ü—Å–µ—Ç—è—Ö

**–î–∞—Ç–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Open Graph –º–µ—Ç–∞—Ç–µ–≥–æ–≤ –¥–ª—è –∫—Ä–∞—Å–∏–≤–æ–≥–æ –ø—Ä–µ–≤—å—é –∫—É—Ä—Å–æ–≤ –ø—Ä–∏ —à–∞—Ä–∏–Ω–≥–µ –≤ Telegram, WhatsApp, VK –∏ –¥—Ä—É–≥–∏—Ö —Å–æ—Ü—Å–µ—Ç—è—Ö. –¢–µ–ø–µ—Ä—å –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫—É—Ä—Å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞, –µ–≥–æ –æ–ø–∏—Å–∞–Ω–∏–µ –∏ –ª–æ–≥–æ—Ç–∏–ø –≤–º–µ—Å—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ –ø—Ä–µ–≤—å—é —Å–∞–π—Ç–∞.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –°–æ–∑–¥–∞–Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –∫—É—Ä—Å–∞

**–§–∞–π–ª:** `apps/web/src/shared/lib/course/getCourseMetadata.ts`

–§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–∞–µ—Ç –±–∞–∑–æ–≤—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫—É—Ä—Å–µ –ø–æ –µ–≥–æ `type`:
- –ù–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞ (`name`)
- –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (`shortDesc`)
- –õ–æ–≥–æ—Ç–∏–ø (`logoImg`)

#### 2. –î–æ–±–∞–≤–ª–µ–Ω—ã Open Graph –º–µ—Ç–∞—Ç–µ–≥–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫—É—Ä—Å–∞

**–§–∞–π–ª:** `apps/web/src/app/(main)/trainings/[courseType]/page.tsx`

–î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `generateMetadata()` –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–µ—Ç–∞—Ç–µ–≥–æ–≤:
- `og:title` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞
- `og:description` ‚Äî –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫—É—Ä—Å–∞
- `og:image` ‚Äî –ª–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞
- `og:url` ‚Äî URL —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∫—É—Ä—Å–∞
- `og:siteName` ‚Äî –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–∞–π—Ç–∞ ("–ì–∞—Ñ—É—Å")
- `og:locale` ‚Äî –ª–æ–∫–∞–ª—å (ru_RU)
- `og:type` ‚Äî —Ç–∏–ø –∫–æ–Ω—Ç–µ–Ω—Ç–∞ (website)

### üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–ö–æ–≥–¥–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–µ–ª–∏—Ç—Å—è —Å—Å—ã–ª–∫–æ–π –≤–∏–¥–∞ `https://gafus.ru/trainings/1760900497549-f5gl3x`:
1. Telegram/—Å–æ—Ü—Å–µ—Ç—å –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É
2. Next.js –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –º–µ—Ç–∞—Ç–µ–≥–∏ —á–µ—Ä–µ–∑ `generateMetadata()`
3. –°–æ—Ü—Å–µ—Ç—å –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–µ –ø—Ä–µ–≤—å—é —Å –ª–æ–≥–æ—Ç–∏–ø–æ–º, –Ω–∞–∑–≤–∞–Ω–∏–µ–º –∏ –æ–ø–∏—Å–∞–Ω–∏–µ–º –∫—É—Ä—Å–∞

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–í–∏—Ä—É—Å–Ω–æ—Å—Ç—å**: –∫—Ä–∞—Å–∏–≤–æ–µ –ø—Ä–µ–≤—å—é —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —à–∞–Ω—Å –ø–µ—Ä–µ—Ö–æ–¥–∞ –ø–æ —Å—Å—ã–ª–∫–µ
- **–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –≤–∏–¥**: –∫—É—Ä—Å—ã –≤—ã–≥–ª—è–¥—è—Ç –∫–∞–∫ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å**: —Ä–∞–±–æ—Ç–∞–µ—Ç –≤–æ –≤—Å–µ—Ö —Å–æ—Ü—Å–µ—Ç—è—Ö (Telegram, VK, WhatsApp, Facebook)
- **SEO**: —É–ª—É—á—à–∞–µ—Ç –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—é —Å—Ç—Ä–∞–Ω–∏—Ü –∫—É—Ä—Å–æ–≤

---

## üé¨ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ VK Video –≤ –ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞

**–î–∞—Ç–∞:** 24 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–∏–¥–µ–æ –∏–∑ VKontakte (VK Video) –≤ –ø–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞. –¢–µ–ø–µ—Ä—å —Ç—Ä–µ–Ω–µ—Ä—ã –º–æ–≥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å —Å—Å—ã–ª–∫–∏ –Ω–∞ –≤–∏–¥–µ–æ –∏–∑ VK –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—É—Ä—Å–æ–≤ –∏ —à–∞–≥–æ–≤ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫ –Ω–∞—Ä–∞–≤–Ω–µ —Å YouTube, Rutube –∏ Vimeo.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–§–∞–π–ª:** `apps/trainer-panel/src/shared/hooks/useFormValidation.ts`

–†–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `videoUrl` —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∫—É `vk.com` –∏ `m.vk.com`:

```typescript
const urlPattern = /^https?:\/\/(www\.|m\.)?(youtube\.com|youtu\.be|rutube\.ru|vimeo\.com|vk\.com)\/.+/;
```

#### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–§–∞–π–ª—ã:** 
- `apps/trainer-panel/src/shared/lib/validation/serverValidation.ts`

–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è —à–∞–≥–æ–≤ –∏ –∫—É—Ä—Å–æ–≤:
- `validateStepForm()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ —à–∞–≥–æ–≤
- `validateCourseForm()` - –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫—É—Ä—Å–æ–≤
- `validators.videoUrl()` - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –≤–∞–ª–∏–¥–∞—Ç–æ—Ä –¥–ª—è —Å—Å—ã–ª–æ–∫ –Ω–∞ –≤–∏–¥–µ–æ

#### 3. –û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–æ—Ä–º—ã

**–§–∞–π–ª—ã:**
- `apps/trainer-panel/src/features/courses/components/CourseForm/CourseForm.tsx`
- `apps/trainer-panel/src/features/steps/components/NewStepForm.tsx`

–û–±–Ω–æ–≤–ª–µ–Ω—ã placeholder –≤ –ø–æ–ª—è—Ö –≤–≤–æ–¥–∞ –≤–∏–¥–µ–æ:
```
https://youtube.com/..., https://vk.com/video...
```

### üìä –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –≤–∏–¥–µ–æ–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–Ω–µ–ª—å —Ç—Ä–µ–Ω–µ—Ä–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã:
- ‚úÖ YouTube (youtube.com, youtu.be)
- ‚úÖ Rutube (rutube.ru)
- ‚úÖ Vimeo (vimeo.com)
- ‚úÖ VK Video (vk.com, m.vk.com)

### üîß –ü—Ä–∏–º–µ—Ä—ã —Å—Å—ã–ª–æ–∫ VK Video

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã —Å—Å—ã–ª–æ–∫ VK:
- `https://vk.com/video-123456789_456789012`
- `https://m.vk.com/video-123456789_456789012`
- `https://vk.com/video?z=video123456789_456789012`

#### 4. –î–æ–±–∞–≤–ª–µ–Ω—ã –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏

**–§–∞–π–ª—ã:**
- `apps/trainer-panel/src/shared/components/ui/FormField.tsx`
- `apps/trainer-panel/src/features/courses/components/CourseForm/CourseForm.tsx`
- `apps/trainer-panel/src/features/steps/components/NewStepForm.tsx`

–ö–æ–º–ø–æ–Ω–µ–Ω—Ç `FormField` —Ä–∞—Å—à–∏—Ä–µ–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø—Ä–æ–ø—Å–∞ `helperText` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –ø–æ–¥—Å–∫–∞–∑–æ–∫ –ø–æ–¥ –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞. –í —Ñ–æ—Ä–º–∞—Ö –∫—É—Ä—Å–æ–≤ –∏ —à–∞–≥–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥—Å–∫–∞–∑–∫–∞:

```
–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è: YouTube, Rutube, Vimeo, VK Video
```

–ü–æ–¥—Å–∫–∞–∑–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ–¥ –ø–æ–ª–µ–º "–°—Å—ã–ª–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ" –∏ –ø–æ–º–æ–≥–∞–µ—Ç —Ç—Ä–µ–Ω–µ—Ä–∞–º –ø–æ–Ω—è—Ç—å, –∫–∞–∫–∏–µ –≤–∏–¥–µ–æ–ø–ª–∞—Ç—Ñ–æ—Ä–º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è —Å–∏—Å—Ç–µ–º–æ–π.

#### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —É—Ç–∏–ª–∏—Ç–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –≤–∏–¥–µ–æ

**–§–∞–π–ª:** `apps/web/src/utils/getEmbeddedVideoUrl.ts`

–§—É–Ω–∫—Ü–∏—è `getEmbeddedVideoInfo()` —Ä–∞—Å—à–∏—Ä–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π VK Video –∏ Vimeo:

**VK Video:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤: `vk.com/video-123_456`, `m.vk.com/video-123_456`
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ z: `vk.com/video?z=video-123_456`
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ embed: `https://vk.com/video_ext.php?oid=-123&id=456`

**Vimeo:**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞: `vimeo.com/123456789`
- –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ embed: `https://player.vimeo.com/video/123456789`

–¢–µ–ø–µ—Ä—å –≤–∏–¥–µ–æ –∏–∑ VK –∏ Vimeo –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –≤—Å—Ç—Ä–∞–∏–≤–∞—é—Ç—Å—è –∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥—è—Ç—Å—è –≤:
- –û–ø–∏—Å–∞–Ω–∏—è—Ö –∫—É—Ä—Å–æ–≤
- –®–∞–≥–∞—Ö —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- –í—Å–µ—Ö –º–µ—Å—Ç–∞—Ö, –≥–¥–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤–∏–¥–µ–æ –ø–æ URL

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- ‚úÖ –°–±–æ—Ä–∫–∞ –ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞ —É—Å–ø–µ—à–Ω–∞
- ‚úÖ –°–±–æ—Ä–∫–∞ web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —É—Å–ø–µ—à–Ω–∞
- ‚úÖ –õ–∏–Ω—Ç–µ—Ä –Ω–µ –≤—ã—è–≤–∏–ª –æ—à–∏–±–æ–∫
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ
- ‚úÖ –§–æ—Ä–º—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
- ‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç FormField –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç helperText
- ‚úÖ –ü–æ–¥—Å–∫–∞–∑–∫–∏ –≤–∏–¥–Ω—ã –ø–æ–¥ –ø–æ–ª—è–º–∏ –≤–≤–æ–¥–∞
- ‚úÖ –£—Ç–∏–ª–∏—Ç–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç VK Video –∏ Vimeo

---

## üêõ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ 500 –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ

**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ 500 (Internal Server Error) –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π. –ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ Server Actions.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `getUserPets`

**–§–∞–π–ª:** `apps/web/src/shared/lib/pets/getUserPets.ts`

**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `getCurrentUserId()` –∏–∑ utils, –∫–æ—Ç–æ—Ä—ã–π –≤—ã–±—Ä–∞—Å—ã–≤–∞–ª –∏—Å–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–µ–º `getCurrentUserIdFromAuth()` –Ω–∞–ø—Ä—è–º—É—é - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `null` –±–µ–∑ –≤—ã–±—Ä–æ—Å–∞ –æ—à–∏–±–∫–∏.

```typescript
import { getCurrentUserId as getCurrentUserIdFromAuth } from "@gafus/auth/server";

const userId = await getCurrentUserIdFromAuth();
if (!userId) {
  return [];
}
```

#### 2. –£–ª—É—á—à–µ–Ω `PetsProvider`

**–§–∞–π–ª:** `apps/web/src/shared/components/common/PetsProvider.tsx`

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–∞—â–∏—Ç–∞ –æ—Ç race conditions:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è `session?.user` –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º
- –§–ª–∞–≥ `hasFetched` –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –≤—ã–∑–æ–≤—ã
- –°–±—Ä–æ—Å —Ñ–ª–∞–≥–∞ –ø—Ä–∏ logout –∏ –æ—à–∏–±–∫–∞—Ö

```typescript
const hasFetched = useRef(false);

if (status === "authenticated" && session?.user && !hasFetched.current) {
  hasFetched.current = true;
  fetchPets().catch(() => {
    hasFetched.current = false;
  });
}
```

#### 3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –¥—Ä—É–≥–∏–µ Server Actions

**–§–∞–π–ª—ã:**
- `apps/web/src/shared/lib/user/getUserProfile.ts`
- `apps/web/src/shared/lib/pet/savePet.ts`

–¢–∞–∫–∂–µ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `getCurrentUserIdFromAuth()` –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–∏—à–Ω–∏—Ö –∏—Å–∫–ª—é—á–µ–Ω–∏–π.

### üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç

- ‚úÖ –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫ 500
- ‚úÖ –ù–µ—Ç –ª–∏—à–Ω–∏—Ö –æ—à–∏–±–æ–∫ –≤ –ª–æ–≥–∞—Ö –¥–ª—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ª—É—á—à–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –≤ providers
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω—ã race conditions –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞–Ω–Ω—ã—Ö

### üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**–ö–ª—é—á–µ–≤–æ–π –ø—Ä–∏–Ω—Ü–∏–ø:** Server Actions –¥–æ–ª–∂–Ω—ã gracefully –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏, –≤–æ–∑–≤—Ä–∞—â–∞—è `null` –∏–ª–∏ –ø—É—Å—Ç—ã–µ –º–∞—Å—Å–∏–≤—ã –≤–º–µ—Å—Ç–æ –≤—ã–±—Ä–æ—Å–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π –¥–ª—è –ø—É–±–ª–∏—á–Ω–æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.

---

## üö™ –ö–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –∏ —É–ª—É—á—à–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞

**–î–∞—Ç–∞:** 20 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–í—ã—Ö–æ–¥" –≤ –±–æ–∫–æ–≤–æ–µ –º–µ–Ω—é –ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —á–µ—Ä–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã "–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω" –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ –≤—ã—Ö–æ–¥–∞ –≤ sidebar

**–§–∞–π–ª:** `apps/trainer-panel/src/app/(main)/main-panel/layout.tsx`

```typescript
import { signOut } from "next-auth/react";
import { Logout } from "@mui/icons-material";

const handleLogout = async () => {
  closeMobileMenu();
  await signOut({ redirect: true, callbackUrl: "/login" });
};

<button 
  className={styles.logoutButton}
  onClick={handleLogout}
>
  <Logout sx={{ mr: 1.5, fontSize: 20 }} />
  –í—ã—Ö–æ–¥
</button>
```

#### 2. –°–ø–∏–Ω–Ω–µ—Ä –∑–∞–≥—Ä—É–∑–∫–∏ –≤–º–µ—Å—Ç–æ "–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω"

**–î–æ:**
```typescript
if (!session) return <div>–ù–µ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω</div>;
```

**–ü–æ—Å–ª–µ:**
```typescript
const { data: session, status } = useSession();

// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å–ø–∏–Ω–Ω–µ—Ä –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–µ—Å—Å–∏–∏
if (status === "loading") {
  return (
    <div className={styles.loadingContainer}>
      <div className={styles.spinner}></div>
    </div>
  );
}

if (!session) {
  return (
    <div className={styles.loadingContainer}>
      <div className={styles.spinner}></div>
    </div>
  );
}
```

#### 3. –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏–Ω–Ω–µ—Ä–∞ –∏ –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞

**–§–∞–π–ª:** `apps/trainer-panel/src/app/(main)/main-panel/main-panel.module.css`

- –ü–ª–∞–≤–Ω—ã–π –∞–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏–Ω–Ω–µ—Ä –Ω–∞ —Ñ–æ–Ω–µ –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞
- –ö—Ä–∞—Å–Ω–æ–≤–∞—Ç—ã–π –æ—Ç—Ç–µ–Ω–æ–∫ –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –æ—Ç–ª–∏—á–∏—è
- –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞ –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –£–¥–æ–±–Ω—ã–π –≤—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã –≤ –æ–¥–∏–Ω –∫–ª–∏–∫
- ‚úÖ –í—ã—Ö–æ–¥ –≤–µ–¥—ë—Ç –Ω–∞ `/login` —Ç–µ–∫—É—â–µ–≥–æ –ø–æ–¥–¥–æ–º–µ–Ω–∞
- ‚úÖ –ü–ª–∞–≤–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –≤–º–µ—Å—Ç–æ —á–µ—Ä–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π UX –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (Cmd+R)
- ‚úÖ –í–∏–∑—É–∞–ª—å–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –∫–Ω–æ–ø–∫–∏ –≤—ã—Ö–æ–¥–∞ –æ—Ç –¥—Ä—É–≥–∏—Ö –ø—É–Ω–∫—Ç–æ–≤ –º–µ–Ω—é
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (–¥–µ—Å–∫—Ç–æ–ø –∏ –º–æ–±–∏–ª—å–Ω—ã–µ)

---

## üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –∫—É—Ä—Å–æ–≤

**–î–∞—Ç–∞:** 20 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–±–ª–µ–º–∞, –∫–æ–≥–¥–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –∫—É—Ä—Å–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–ª–∏—Å—å –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏. –¢–µ–ø–µ—Ä—å –¥–∞–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

**–ò–∑–º–µ–Ω–µ–Ω–æ:**
```typescript
// apps/trainer-panel/src/shared/hooks/useStatistics.ts

// –†–∞–Ω—å—à–µ:
{
  refetchOnWindowFocus: false,
  staleTime: 30000, // 30 —Å–µ–∫—É–Ω–¥
}

// –¢–µ–ø–µ—Ä—å:
{
  refetchOnWindowFocus: true,   // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É
  refetchOnMount: true,          // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
  staleTime: 0,                  // –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ —Å—á–∏—Ç–∞—é—Ç—Å—è —É—Å—Ç–∞—Ä–µ–≤—à–∏–º–∏
}
```

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- ‚úÖ –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞–∑–≤–∞–Ω–∏—è –∫—É—Ä—Å–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ
- ‚úÖ –î–∞–Ω–Ω—ã–µ –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω—ã –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ –Ω–∞ –≤–∫–ª–∞–¥–∫—É –±—Ä–∞—É–∑–µ—Ä–∞
- ‚úÖ –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –º–µ–∂–¥—É –≤—Å–µ–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏

### üìù –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ —Ä–µ—à–µ–Ω–∏–µ

–ü—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–ª–∞ –∏–∑-–∑–∞ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è React Query (`staleTime: 30000`). –•–æ—Ç—è —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫—ç—à Next.js –ø—Ä–∞–≤–∏–ª—å–Ω–æ –∏–Ω–≤–∞–ª–∏–¥–∏—Ä–æ–≤–∞–ª—Å—è —á–µ—Ä–µ–∑ `revalidatePath()`, –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫—ç—à —Å–æ—Ö—Ä–∞–Ω—è–ª —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ –¥–æ –∏—Å—Ç–µ—á–µ–Ω–∏—è 30 —Å–µ–∫—É–Ω–¥.

–†–µ—à–µ–Ω–∏–µ: –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ö—É–∫–∞ `useCourseStatistics` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏ —Ñ–æ–∫—É—Å–∞ –Ω–∞ –æ–∫–Ω–æ.

---

## ‚úçÔ∏è –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏—Ä–µ –≤ –Ω–∞–∑–≤–∞–Ω–∏—è—Ö –∏ –æ–ø–∏—Å–∞–Ω–∏—è—Ö

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–í –≤–∞–ª–∏–¥–∞—Ü–∏—é –Ω–∞–∑–≤–∞–Ω–∏–π –∏ –æ–ø–∏—Å–∞–Ω–∏–π –∫—É—Ä—Å–æ–≤/–¥–Ω–µ–π/—à–∞–≥–æ–≤ –¥–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ç–∏—Ä–µ (‚Äì –∏ ‚Äî) –ø–æ–º–∏–º–æ –¥–µ—Ñ–∏—Å–∞ (-).

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞:**
```typescript
// apps/trainer-panel/src/shared/hooks/useFormValidation.ts

// –†–∞–Ω—å—à–µ: /^[–∞-—è—ë–ê-–Ø–Åa-zA-Z0-9\s\-_.,!?()]+$/
// –¢–µ–ø–µ—Ä—å: /^[–∞-—è—ë–ê-–Ø–Åa-zA-Z0-9\s\-‚Äì‚Äî_.,!?()]+$/

title: {
  pattern: {
    value: /^[–∞-—è—ë–ê-–Ø–Åa-zA-Z0-9\s\-‚Äì‚Äî_.,!?()]+$/,
    message: "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏",
  },
},

courseName: {
  pattern: {
    value: /^[–∞-—è—ë–ê-–Ø–Åa-zA-Z0-9\s\-‚Äì‚Äî_.,!?()]+$/,
    message: "–ù–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –∫—É—Ä—Å–∞",
  },
}
```

#### 2. –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–û–±–Ω–æ–≤–ª–µ–Ω–æ:**
```typescript
// apps/trainer-panel/src/shared/lib/validation/serverValidation.ts

// validateStepForm - –Ω–∞–∑–≤–∞–Ω–∏–µ —à–∞–≥–∞
if (!/^[–∞-—è—ë–ê-–Ø–Åa-zA-Z0-9\s\-‚Äì‚Äî_.,!?()]+$/.test(data.title)) {
  errors.title = "–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã";
}

// validateCourseForm - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫—É—Ä—Å–∞
if (!/^[–∞-—è—ë–ê-–Ø–Åa-zA-Z0-9\s\-‚Äì‚Äî_.,!?()]+$/.test(data.name)) {
  errors.name = "–ù–∞–∑–≤–∞–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Å–∏–º–≤–æ–ª—ã";
}
```

### üìù –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å–∏–º–≤–æ–ª—ã —Ç–∏—Ä–µ

- **–î–µ—Ñ–∏—Å:** - (ASCII 45, –æ–±—ã—á–Ω—ã–π –¥–µ—Ñ–∏—Å)
- **En dash:** ‚Äì (U+2013, –∫–æ—Ä–æ—Ç–∫–æ–µ —Ç–∏—Ä–µ)
- **Em dash:** ‚Äî (U+2014, –¥–ª–∏–Ω–Ω–æ–µ —Ç–∏—Ä–µ)

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ì–∏–±–∫–æ—Å—Ç—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–∏–¥–∞–º–∏ —Ç–∏—Ä–µ
- **UX:** –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–∏—Ä–µ –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ (–∞–≤—Ç–æ–∑–∞–º–µ–Ω–∞, –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞)
- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –ï–¥–∏–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ

---

## üñºÔ∏è –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π –ª–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞

**–î–∞—Ç–∞:** 19 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–õ–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞ —Å—Ç–∞–ª –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—É—Ä—Å–∞. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–ª–∏–µ–Ω—Ç—Å–∫–∞—è –∏ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è, –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—è.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

#### 1. –ö–ª–∏–µ–Ω—Ç—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–∞–≤–∏–ª–æ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `commonValidationRules.logoImg` –≤ `useFormValidation.ts`
- –ü–æ–ª–µ `logoImg` —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ `react-hook-form` —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π
- –ü—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è (`shouldValidate: true`)

**–ö–æ–¥:**
```typescript
// apps/trainer-panel/src/shared/hooks/useFormValidation.ts
logoImg: {
  required: "–õ–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞ –æ–±—è–∑–∞—Ç–µ–ª–µ–Ω",
  validate: (value: unknown) => {
    if (!value || String(value).trim() === "") return "–ó–∞–≥—Ä—É–∑–∏—Ç–µ –ª–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞";
    return true;
  },
}

// apps/trainer-panel/src/features/courses/components/CourseForm/CourseForm.tsx
<input type="hidden" {...form.register("logoImg", commonValidationRules.logoImg)} />
<CourseMediaUploader 
  onUploadComplete={(url) => {
    form.setValue("logoImg", url, { shouldValidate: true });
  }} 
/>
```

#### 2. –í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è

**–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –∑–≤–µ–∑–¥–æ—á–∫–∞ (*) –≤ –∑–∞–≥–æ–ª–æ–≤–æ–∫ "–õ–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞ *"
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø–æ–¥ –∑–∞–≥—Ä—É–∑—á–∏–∫–æ–º

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:**
```typescript
// apps/trainer-panel/src/features/courses/components/CourseForm/CourseMediaUploader.tsx
<Typography variant="h6" gutterBottom>
  –õ–æ–≥–æ—Ç–∏–ø –∫—É—Ä—Å–∞ *
</Typography>
```

#### 3. –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

**–°—Ç–∞—Ç—É—Å:**
- –°–µ—Ä–≤–µ—Ä–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —É–∂–µ –±—ã–ª–∞ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ `validateCourseForm`
- Prisma —Å—Ö–µ–º–∞: –ø–æ–ª–µ `logoImg String` (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ)

### üìù –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- –î–æ–±–∞–≤–ª–µ–Ω –ø—Ä–∏–º–µ—Ä –≤–∞–ª–∏–¥–∞—Ü–∏–∏ `logoImg` –≤ Zod —Å—Ö–µ–º–µ –∫—É—Ä—Å–∞
- –î–æ–±–∞–≤–ª–µ–Ω —Å–ø–∏—Å–æ–∫ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∫—É—Ä—Å–∞
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è `docs/apps/trainer-panel.md`

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- **–ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å:** –í—Å–µ –∫—É—Ä—Å—ã —Ç–µ–ø–µ—Ä—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∏–º–µ—é—Ç –ª–æ–≥–æ—Ç–∏–ø
- **UX:** –ü–æ–Ω—è—Ç–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –ø–æ–ª—è
- **–í–∞–ª–∏–¥–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏

---

## üìã –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Bull Board –≤ Error Dashboard

**–î–∞—Ç–∞:** 17 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—á–µ—Ä–µ–¥–µ–π BullMQ –≤ Error Dashboard. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–¥–∞—á, –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã–º –∑–∞–¥–∞—á–∞–º –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### 1. –í–∫–ª–∞–¥–∫–∞ "–û—á–µ—Ä–µ–¥–∏" –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ –≤ NavigationTabs
- –ò–∫–æ–Ω–∫–∞ Queue —Å —Ñ–∏–æ–ª–µ—Ç–æ–≤—ã–º —Ü–≤–µ—Ç–æ–º (#9c27b0)
- –†–æ—É—Ç `/queues` –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü—ã –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
apps/error-dashboard/src/shared/components/NavigationTabs.tsx
```

#### 2. API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥—è–º–∏

**Endpoints:**
- `/api/queues/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤—Å–µ—Ö –æ—á–µ—Ä–µ–¥–µ–π
- `/api/queues/jobs` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∑–∞–¥–∞—á –ø–æ —Å—Ç–∞—Ç—É—Å—É
- `/api/queues/retry` - –ø–æ–≤—Ç–æ—Ä–Ω—ã–π –∑–∞–ø—É—Å–∫ –∑–∞–¥–∞—á (POST - –æ–¥–∏–Ω–æ—á–Ω—ã–π, PUT - –º–∞—Å—Å–æ–≤—ã–π)

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –ø–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤—Å–µ—Ö –æ—á–µ—Ä–µ–¥–µ–π (push, reengagement, examCleanup)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∑–∞–¥–∞—á –ø–æ —Å—Ç–∞—Ç—É—Å—É (failed, completed, waiting, active, delayed)
- –û–¥–∏–Ω–æ—á–Ω—ã–π retry, remove, promote –¥–ª—è –∑–∞–¥–∞—á
- –ú–∞—Å—Å–æ–≤—ã–π retry –¥–ª—è –≤—Å–µ—Ö failed jobs –æ—á–µ—Ä–µ–¥–∏
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å–±–æ—Ä–∫–∏

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// API endpoints
apps/error-dashboard/src/app/api/queues/stats/route.ts
apps/error-dashboard/src/app/api/queues/jobs/route.ts
apps/error-dashboard/src/app/api/queues/retry/route.ts

// Hooks
apps/error-dashboard/src/shared/hooks/useQueuesStats.ts
apps/error-dashboard/src/shared/hooks/useQueueJobs.ts
```

#### 3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –æ—á–µ—Ä–µ–¥–µ–π

**URL:** `/queues`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- QueueStatsCard - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –æ—á–µ—Ä–µ–¥–∏ —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏
- FailedJobsList - —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–¥–∞—á —Å –¥–µ—Ç–∞–ª—è–º–∏
- –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –≤—Å–µ–º –æ—á–µ—Ä–µ–¥—è–º

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ö–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
- –°—á–µ—Ç—á–∏–∫–∏: waiting, active, completed, failed, delayed
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –°—Ç–∞—Ç—É—Å –ø–∞—É–∑—ã –æ—á–µ—Ä–µ–¥–∏

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// –°—Ç—Ä–∞–Ω–∏—Ü–∞
apps/error-dashboard/src/app/queues/page.tsx

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
apps/error-dashboard/src/features/queues/components/QueueStatsCard.tsx
apps/error-dashboard/src/features/queues/components/FailedJobsList.tsx
```

### üé® UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

#### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞ –æ—á–µ—Ä–µ–¥–µ–π

**–°—Ç–∞—Ç—É—Å—ã:**
- –ó–µ–ª–µ–Ω—ã–π (#4caf50) - –Ω–µ—Ç –æ—à–∏–±–æ–∫
- –û—Ä–∞–Ω–∂–µ–≤—ã–π (#ff9800) - –µ—Å—Ç—å –æ—à–∏–±–∫–∏ (< 10)
- –ö—Ä–∞—Å–Ω—ã–π (#f44336) - –º–Ω–æ–≥–æ –æ—à–∏–±–æ–∫ (> 10)
- –°–µ—Ä—ã–π (#9e9e9e) - –æ—á–µ—Ä–µ–¥—å –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞

**–ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫:**
- –ó–µ–ª–µ–Ω—ã–π < 5% - –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- –û—Ä–∞–Ω–∂–µ–≤—ã–π 5-10% - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –ö—Ä–∞—Å–Ω—ã–π > 10% - –∫—Ä–∏—Ç–∏—á–Ω–æ

#### –ö–∞—Ä—Ç–æ—á–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π

**–ú–µ—Ç—Ä–∏–∫–∏:**
- –í –æ–∂–∏–¥–∞–Ω–∏–∏ (waiting) - —Å–∏–Ω–∏–π (#2196f3)
- –ê–∫—Ç–∏–≤–Ω–æ (active) - –∑–µ–ª–µ–Ω—ã–π (#4caf50)
- –ó–∞–≤–µ—Ä—à–µ–Ω–æ (completed) - —Å–≤–µ—Ç–ª–æ-–∑–µ–ª–µ–Ω—ã–π (#66bb6a)
- –û—à–∏–±–∫–∏ (failed) - –∫—Ä–∞—Å–Ω—ã–π (#f44336)
- –û—Ç–ª–æ–∂–µ–Ω–æ (delayed) - –æ—Ä–∞–Ω–∂–µ–≤—ã–π (#ff9800)

**–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:**
- Hover —ç—Ñ—Ñ–µ–∫—Ç —Å –ø–æ–¥—ä–µ–º–æ–º –∫–∞—Ä—Ç–æ—á–∫–∏
- –ö–ª–∏–∫ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∑–∞–¥–∞—á –ø–æ –æ—á–µ—Ä–µ–¥–∏
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –ø–∞—É–∑—ã –æ—á–µ—Ä–µ–¥–∏

#### –°–ø–∏—Å–æ–∫ failed jobs

**–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ:**
- –ö—Ä–∞—Å–Ω—ã–π —Ñ–æ–Ω (#ffebee) –¥–ª—è –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –∑–∞–¥–∞—á
- –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º—ã–µ –¥–µ—Ç–∞–ª–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –∑–∞–¥–∞—á–∏
- Stacktrace –≤ —Ç–µ–º–Ω–æ–π —Ç–µ–º–µ (#263238)
- JSON-–¥–∞–Ω–Ω—ã–µ —Å –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞

**–î–µ–π—Å—Ç–≤–∏—è:**
- –ü–æ–≤—Ç–æ—Ä–∏—Ç—å (retry) - –∑–µ–ª–µ–Ω–∞—è –∫–Ω–æ–ø–∫–∞
- –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—å (promote) - —Å–∏–Ω—è—è –∫–Ω–æ–ø–∫–∞
- –£–¥–∞–ª–∏—Ç—å (remove) - –∫—Ä–∞—Å–Ω–∞—è –∫–Ω–æ–ø–∫–∞
- –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –¥–µ—Ç–∞–ª–∏ (expand)

**–î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞—á–∏:**
- ID –∑–∞–¥–∞—á–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫
- –ü—Ä–∏—á–∏–Ω–∞ –æ—à–∏–±–∫–∏
- –î–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ (JSON)
- –ü–æ–ª–Ω—ã–π stacktrace
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏

### üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

#### –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–π –∫–∞—Ä—Ç–æ—á–∫–µ:
- –í—Å–µ–≥–æ –∑–∞–¥–∞—á –≤ –æ–∂–∏–¥–∞–Ω–∏–∏
- –í—Å–µ–≥–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö –∑–∞–¥–∞—á
- –í—Å–µ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á
- –í—Å–µ–≥–æ –æ—à–∏–±–æ–∫
- –í—Å–µ–≥–æ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

#### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –æ—á–µ—Ä–µ–¥—è–º

–î–ª—è –∫–∞–∂–¥–æ–π –æ—á–µ—Ä–µ–¥–∏ –æ—Ç–¥–µ–ª—å–Ω–æ:
- Waiting - –∑–∞–¥–∞—á–∏ –≤ –æ—á–µ—Ä–µ–¥–∏
- Active - –∑–∞–¥–∞—á–∏ –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- Completed - —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ
- Failed - –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ —Å –æ—à–∏–±–∫–æ–π
- Delayed - –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã–µ –Ω–∞ –±—É–¥—É—â–µ–µ
- Paused - —Å—Ç–∞—Ç—É—Å –ø–∞—É–∑—ã –æ—á–µ—Ä–µ–¥–∏
- Failure Rate - –ø—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**API Layer:**
- REST endpoints –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç –æ—á–µ—Ä–µ–¥–µ–π
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º

**Frontend Layer:**
- React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- Custom hooks –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
- TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- Material-UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
- Optimistic updates –ø—Ä–∏ retry
- Automatic refetch –ø–æ—Å–ª–µ –º—É—Ç–∞—Ü–∏–π
- Error boundaries –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- Skeleton states –¥–ª—è loading

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –≤—Å–µ –æ—á–µ—Ä–µ–¥–∏ –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
2. **Real-time –¥–∞–Ω–Ω—ã–µ** - –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
3. **–ë—ã—Å—Ç—Ä–æ–µ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º** - retry –≤ –æ–¥–∏–Ω –∫–ª–∏–∫
4. **–ú–∞—Å—Å–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏** - retry –≤—Å–µ–π –æ—á–µ—Ä–µ–¥–∏
5. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –ø–æ–ª–Ω—ã–π stacktrace –∏ –¥–∞–Ω–Ω—ã–µ
6. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** - —Ü–≤–µ—Ç–æ–≤—ã–µ —Å—Ö–µ–º—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞
7. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - TypeScript –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏

### üìà –ö–µ–π—Å—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

#### –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
- –ö–∞—Ä—Ç–æ—á–∫–∏ –æ—á–µ—Ä–µ–¥–µ–π –º–≥–Ω–æ–≤–µ–Ω–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã –∫—Ä–∞—Å–Ω—ã–º —Ü–≤–µ—Ç–æ–º
- –°—á–µ—Ç—á–∏–∫ failed jobs –Ω–∞ –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –æ—á–µ—Ä–µ–¥–∏

#### –ê–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö failed jobs —Å –¥–µ—Ç–∞–ª—è–º–∏
- –ü–æ–ª–Ω—ã–π stacktrace –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- JSON-–¥–∞–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏ –¥–ª—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–¥–∞—á–∞–º–∏
- –û–¥–∏–Ω–æ—á–Ω—ã–π retry –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –ú–∞—Å—Å–æ–≤—ã–π retry –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–∞
- –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å—à–∏—Ö –∑–∞–¥–∞—á
- –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –æ—Ç–ª–æ–∂–µ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á

---

## üñ•Ô∏è –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã –≤ Error Dashboard

**–î–∞—Ç–∞:** 17 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤, –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö –∏ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ –≤ Error Dashboard. –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ —Å –≤–∫–ª–∞–¥–∫–∞–º–∏ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —Ä–∞–∑–¥–µ–ª–∞–º–∏.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### 1. –ù–∞–≤–∏–≥–∞—Ü–∏—è —Å –≤–∫–ª–∞–¥–∫–∞–º–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç NavigationTabs —Å Material-UI Tabs
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É: –î–∞—à–±–æ—Ä–¥ –æ—à–∏–±–æ–∫, Push-–ª–æ–≥–∏, –°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã
- –ê–∫—Ç–∏–≤–Ω–∞—è –≤–∫–ª–∞–¥–∫–∞ –ø–æ–¥—Å–≤–µ—á–∏–≤–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º —Ü–≤–µ—Ç–æ–º
- –ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
apps/error-dashboard/src/shared/components/NavigationTabs.tsx

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö
apps/error-dashboard/src/app/page.tsx
apps/error-dashboard/src/app/push-logs/page.tsx
apps/error-dashboard/src/app/system-status/page.tsx
```

#### 2. API –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Å–∏—Å—Ç–µ–º—ã

**Endpoint:** `/api/system-status`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ (web, trainer-panel, admin-panel, bull-board)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ PostgreSQL (–≤–µ—Ä—Å–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π)
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Redis (–≤–µ—Ä—Å–∏—è, –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å)
- –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ (CPU, Memory, Uptime)
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// API endpoint
apps/error-dashboard/src/app/api/system-status/route.ts

// Health endpoints –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤
apps/web/src/app/api/health/route.ts
apps/trainer-panel/src/app/api/health/route.ts
apps/admin-panel/src/app/api/health/route.ts
```

#### 3. –°—Ç—Ä–∞–Ω–∏—Ü–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–∏—Å—Ç–µ–º—ã

**URL:** `/system-status`

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ServiceStatusCard - –∫–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ä–≤–∏—Å–∞ —Å –≤—Ä–µ–º–µ–Ω–µ–º –æ—Ç–∫–ª–∏–∫–∞
- DatabaseStatusCard - —Å—Ç–∞—Ç—É—Å –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö —Å –≤–µ—Ä—Å–∏–µ–π –∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è–º–∏
- SystemMetricsCard - —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã —Å –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞–º–∏

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:**
- Real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
- –ö–Ω–æ–ø–∫–∞ —Ä—É—á–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–æ–≤ (–∑–µ–ª–µ–Ω—ã–π/–∫—Ä–∞—Å–Ω—ã–π/–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –°—á–µ—Ç—á–∏–∫–∏ –æ–Ω–ª–∞–π–Ω —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// –°—Ç—Ä–∞–Ω–∏—Ü–∞
apps/error-dashboard/src/app/system-status/page.tsx

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
apps/error-dashboard/src/features/system/components/ServiceStatusCard.tsx
apps/error-dashboard/src/features/system/components/DatabaseStatusCard.tsx
apps/error-dashboard/src/features/system/components/SystemMetricsCard.tsx

// –•—É–∫ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
apps/error-dashboard/src/shared/hooks/useSystemStatus.ts
```

### üé® UI/UX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

#### –¶–≤–µ—Ç–æ–≤–∞—è —Å—Ö–µ–º–∞

**–°—Ç–∞—Ç—É—Å—ã —Å–µ—Ä–≤–∏—Å–æ–≤:**
- –ó–µ–ª–µ–Ω—ã–π (#4caf50) - —Å–µ—Ä–≤–∏—Å –æ–Ω–ª–∞–π–Ω
- –ö—Ä–∞—Å–Ω—ã–π (#f44336) - —Å–µ—Ä–≤–∏—Å –æ—Ñ–ª–∞–π–Ω
- –°–µ—Ä—ã–π (#9e9e9e) - —Å—Ç–∞—Ç—É—Å –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω

**–°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:**
- –ó–µ–ª–µ–Ω—ã–π < 70% - –Ω–æ—Ä–º–∞
- –û—Ä–∞–Ω–∂–µ–≤—ã–π 70-85% - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- –ö—Ä–∞—Å–Ω—ã–π > 85% - –∫—Ä–∏—Ç–∏—á–Ω–æ

#### –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å

- –°–∏—Å—Ç–µ–º–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏: –ø–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
- –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö: 2 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ desktop, 1 –Ω–∞ mobile
- –°–µ—Ä–≤–∏—Å—ã: 4 –∫–æ–ª–æ–Ω–∫–∏ –Ω–∞ desktop, 3 –Ω–∞ tablet, 2 –Ω–∞ mobile, 1 –Ω–∞ small mobile

#### –ê–Ω–∏–º–∞—Ü–∏–∏

- Hover —ç—Ñ—Ñ–µ–∫—Ç —Å –ø–æ–¥—ä–µ–º–æ–º –∫–∞—Ä—Ç–æ—á–∫–∏
- –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã —Ü–≤–µ—Ç–æ–≤
- Smooth –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä—ã

### üìä –ú–µ—Ç—Ä–∏–∫–∏ –∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã

#### –í—Ä–µ–º—è –æ—Ç–∫–ª–∏–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤
- < 500ms - –±—ã—Å—Ç—Ä–æ (–∑–µ–ª–µ–Ω—ã–π)
- 500-1000ms - –Ω–æ—Ä–º–∞–ª—å–Ω–æ (–æ—Ä–∞–Ω–∂–µ–≤—ã–π)
- > 1000ms - –º–µ–¥–ª–µ–Ω–Ω–æ (–∫—Ä–∞—Å–Ω—ã–π)

#### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—É—é, —Å–≤–æ–±–æ–¥–Ω—É—é –∏ –æ–±—â—É—é –ø–∞–º—è—Ç—å
- –ü—Ä–æ—Ü–µ–Ω—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ —á–∏—Ç–∞–µ–º—ã–π —Ñ–æ—Ä–º–∞—Ç (GB, MB, KB)

#### –ó–∞–≥—Ä—É–∑–∫–∞ CPU
- –°—Ä–µ–¥–Ω—è—è –∑–∞–≥—Ä—É–∑–∫–∞ —Å–∏—Å—Ç–µ–º—ã
- –ü—Ä–æ—Ü–µ–Ω—Ç –æ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —è–¥–µ—Ä
- –¶–≤–µ—Ç–æ–≤–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏

#### Uptime
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –¥–Ω–∏, —á–∞—Å—ã, –º–∏–Ω—É—Ç—ã
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

**Stack:**
- Next.js 15 App Router
- Material-UI 7.1.0
- React Query –¥–ª—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- TypeScript –¥–ª—è —Ç–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- date-fns –¥–ª—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤—Ä–µ–º–µ–Ω–∏

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã:**
- Server Components –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
- Client Components —Ç–æ–ª—å–∫–æ –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
- Custom hooks –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏–∫–∏
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å refetchInterval

### üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥** - –≤—Å–µ —Å—Ç–∞—Ç—É—Å—ã –≤ –æ–¥–Ω–æ–º –º–µ—Å—Ç–µ
2. **Real-time –¥–∞–Ω–Ω—ã–µ** - –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ 30 —Å–µ–∫—É–Ω–¥
3. **–í–∏–∑—É–∞–ª—å–Ω–∞—è –∏–Ω–¥–∏–∫–∞—Ü–∏—è** - –±—ã—Å—Ç—Ä–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
4. **–î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** - –≤–µ—Ä—Å–∏–∏, –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –º–µ—Ç—Ä–∏–∫–∏
5. **–ê–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω** - —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö
6. **–¢–∏–ø–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - TypeScript –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏
7. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üì¢ Push-—Ä–∞—Å—Å—ã–ª–∫–∞ –¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

**–î–∞—Ç–∞:** 17 –æ–∫—Ç—è–±—Ä—è 2025

### –û–±–∑–æ—Ä

–î–æ–±–∞–≤–ª–µ–Ω —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –º–∞—Å—Å–æ–≤–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤—Å–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —Å –∞–∫—Ç–∏–≤–Ω—ã–º–∏ –ø–æ–¥–ø–∏—Å–∫–∞–º–∏. –î–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–∏ ADMIN –≤ –ø–∞–Ω–µ–ª–∏ —Ç—Ä–µ–Ω–µ—Ä–∞.

### ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

#### 1. –§–æ—Ä–º–∞ –º–∞—Å—Å–æ–≤–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –§–æ—Ä–º–∞ –¥–ª—è –≤–≤–æ–¥–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–¥–æ 100 —Å–∏–º–≤–æ–ª–æ–≤)
- –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–µ –ø–æ–ª–µ –¥–ª—è —Ç–µ–∫—Å—Ç–∞ (–¥–æ 300 —Å–∏–º–≤–æ–ª–æ–≤)
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –ø–æ–ª–µ URL –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ –∏ —Å–µ—Ä–≤–µ—Ä–µ

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// Server Action
apps/trainer-panel/src/features/broadcasts/lib/sendBroadcastPush.ts

// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ñ–æ—Ä–º—ã
apps/trainer-panel/src/features/broadcasts/components/BroadcastForm.tsx

// –°—Ç—Ä–∞–Ω–∏—Ü–∞
apps/trainer-panel/src/app/(main)/main-panel/broadcasts/page.tsx
```

#### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤:**
- –î–æ—Å—Ç—É–ø —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–æ–ª–∏ ADMIN
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã (redirect)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ server action
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

**–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```typescript
logger.info("–ù–∞—á–∞–ª–æ –º–∞—Å—Å–æ–≤–æ–π —Ä–∞—Å—Å—ã–ª–∫–∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π", {
  adminId: session.user.id,
  title,
  bodyLength: body.length
});

logger.success("–ú–∞—Å—Å–æ–≤–∞—è —Ä–∞—Å—Å—ã–ª–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞", {
  totalSubscriptions: pushSubscriptions.length,
  sent: result.successCount,
  failed: result.failureCount
});
```

#### 3. –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ—Ä–≤–∏—Å:**
- `@gafus/webpush` - PushNotificationService
- –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ –∏–∑ –ë–î
- –ú–∞—Å—Å–æ–≤–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —á–µ—Ä–µ–∑ `sendNotifications()`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫ (410, 404)

**–û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:**
```typescript
{
  success: true,
  totalUsers: 150,
  sentCount: 148,
  failedCount: 2
}
```

#### 4. UI –∏ UX

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- Material-UI Card —Å —Ñ–æ—Ä–º–æ–π
- TextField —Å –ª–∏–º–∏—Ç–∞–º–∏ —Å–∏–º–≤–æ–ª–æ–≤
- Loading state –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ
- Alert –¥–ª—è —É—Å–ø–µ—à–Ω—ã—Ö/–æ—à–∏–±–æ—á–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –¥–µ–π—Å—Ç–≤–∏—è

**–ù–∞–≤–∏–≥–∞—Ü–∏—è:**
- –ù–æ–≤–∞—è –≤–∫–ª–∞–¥–∫–∞ "Push-—Ä–∞—Å—Å—ã–ª–∫–∞" –≤ sidebar
- –ò–∫–æ–Ω–∫–∞ Notifications
- –í–∏–¥–Ω–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è** - –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ —É–≤–µ–¥–æ–º–∏—Ç—å –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –°—Ç—Ä–æ–≥–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –¥–æ—Å—Ç—É–ø–∞ —Ç–æ–ª—å–∫–æ –¥–ª—è ADMIN
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–¥–ø–∏—Å–æ–∫
4. **–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å** - –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Ä–∞—Å—Å—ã–ª–æ–∫
5. **–£–¥–æ–±—Å—Ç–≤–æ** - –ò–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–æ–¥–µ–ª—å `PushSubscription` –∏–∑ Prisma
- –ü–æ–ª—è: userId, endpoint, keys (JSON)
- –ò–Ω–¥–µ–∫—Å—ã –Ω–∞ userId –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞

**–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:**
- Try-catch –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- –í–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `@gafus/logger`

---

**–î–∞—Ç–∞:** 14 –æ–∫—Ç—è–±—Ä—è 2025

## –û–±–∑–æ—Ä

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–ª—é—á–µ–≤—ã–µ UX-—É–ª—É—á—à–µ–Ω–∏—è, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π PWA –¥–ª—è –ø–æ–≤—ã—à–µ–Ω–∏—è –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç–∏ –∏ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –æ—â—É—â–µ–Ω–∏—è –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

## ‚ú® –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### 1. üì± Haptic Feedback (–¢–∞–∫—Ç–∏–ª—å–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å)

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –æ—â—É—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≤–∏–±—Ä–∞—Ü–∏—é —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç Vibration API (–ø–æ–¥–¥–µ—Ä–∂–∫–∞: iOS Safari, Android Chrome)
- –¢–∏–ø—ã –≤–∏–±—Ä–∞—Ü–∏–∏: light, medium, heavy, success, warning, error
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∫–∏ API

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// –£—Ç–∏–ª–∏—Ç–∞
apps/web/src/utils/hapticFeedback.ts

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ timerStore
import { hapticStart, hapticComplete } from "@/utils/hapticFeedback";

// –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ —Ç–∞–π–º–µ—Ä–∞
hapticStart();

// –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —à–∞–≥–∞
hapticComplete();
```

**–¢–æ—á–∫–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
- ‚úÖ –°—Ç–∞—Ä—Ç —Ç–∞–π–º–µ—Ä–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–∞
- ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –∫—É—Ä—Å–∞ (—á–µ—Ä–µ–∑ —Ö—É–∫ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è)
- üîÑ –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π (–±—É–¥—É—â–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)

**–ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤–∏–±—Ä–∞—Ü–∏–∏:**
```typescript
light: 10ms           // –õ–µ–≥–∫–æ–µ –∫–∞—Å–∞–Ω–∏–µ
medium: 20ms          // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
heavy: 30ms           // –í–∞–∂–Ω–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ
success: [10,50,10]   // –£—Å–ø–µ—Ö
warning: [15,100,15,100,15]  // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
error: [50,100,50]    // –û—à–∏–±–∫–∞
```

---

### 2. üìç –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–í—ã –∑–¥–µ—Å—å"

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–º–æ—â—å –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –ø–æ —Å–ø–∏—Å–∫—É –¥–Ω–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫

**–í–∏–∑—É–∞–ª—å–Ω—ã–π –¥–∏–∑–∞–π–Ω:**
- –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π –±–µ–π–¥–∂ (#636128 ‚Üí #8B8A3B)
- –ü—É–ª—å—Å–∏—Ä—É—é—â–∞—è –∞–Ω–∏–º–∞—Ü–∏—è (2s)
- –ò–∫–æ–Ω–∫–∞ üìç + —Ç–µ–∫—Å—Ç "–í—ã –∑–¥–µ—Å—å"
- –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ: top-left –Ω–∞–¥ –∫–∞—Ä—Ç–æ—á–∫–æ–π –¥–Ω—è

**–õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è:**
1. –ü–µ—Ä–≤—ã–π –¥–µ–Ω—å —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º IN_PROGRESS
2. –ï—Å–ª–∏ –Ω–µ—Ç IN_PROGRESS ‚Üí —Å–ª–µ–¥—É—é—â–∏–π –ø–æ—Å–ª–µ –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ COMPLETED
3. –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç ‚Üí –ø–µ—Ä–≤—ã–π –¥–µ–Ω—å

**–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏:**
```typescript
// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç
apps/web/src/features/training/components/TrainingDayList.tsx

// CSS
apps/web/src/features/training/components/TrainingDayList.module.css

// –§—É–Ω–∫—Ü–∏—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è
const getCurrentDayNumber = useCallback((days) => {
  // –õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –¥–Ω—è
}, [stepStates]);
```

**–ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ –º–æ–±–∏–ª—å–Ω—ã–µ:**
```css
@media (max-width: 480px) {
  .currentIndicator {
    font-size: 11px;
    padding: 3px 10px;
  }
}
```

---

### 3. üéâ –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∏–∑—É–∞–ª—å–Ω–æ–µ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

**–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞:** canvas-confetti v1.9.3

**–¢–∏–ø—ã –∫–æ–Ω—Ñ–µ—Ç—Ç–∏:**
- `celebrateCourseCompletion()` - –≠–ø–∏—á–µ—Å–∫–æ–µ 3-—Å–µ–∫—É–Ω–¥–Ω–æ–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫—É—Ä—Å–∞
- `celebrateAchievement()` - –ë—ã—Å—Ç—Ä–æ–µ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- `celebrateDayCompletion()` - –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ —Å –¥–≤—É—Ö —Å—Ç–æ—Ä–æ–Ω –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –¥–Ω—è
- `celebrateSimple()` - –ü—Ä–æ—Å—Ç–æ–µ –¥–ª—è UI feedback
- `celebrateEpic()` - –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –¥–ª—è –±–æ–ª—å—à–∏—Ö –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π

**–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:**
```typescript
// –£—Ç–∏–ª–∏—Ç–∞
apps/web/src/utils/confetti.ts

// –•—É–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è
apps/web/src/shared/hooks/useCourseCompletionCelebration.ts

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ TrainingPageClient
useCourseCompletionCelebration({
  courseId,
  courseType,
  trainingDays
});
```

**–°–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫—É—Ä—Å–∞:**
1. Haptic feedback (–ø–∞—Ç—Ç–µ—Ä–Ω —É—Å–ø–µ—Ö–∞)
2. –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏—è (3 —Å–µ–∫—É–Ω–¥—ã)
3. SweetAlert2 —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏–µ–º
4. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π (—á–µ—Ä–µ–∑ ref)

**–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏:**
```typescript
const defaults = {
  startVelocity: 30,
  spread: 360,
  ticks: 60,
  zIndex: 9999  // –ü–æ–≤–µ—Ä—Ö –≤—Å–µ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
};
```

---

## üìä –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –£—Ç–∏–ª–∏—Ç—ã
```
apps/web/src/utils/
‚îú‚îÄ‚îÄ hapticFeedback.ts  # Haptic Feedback API
‚îú‚îÄ‚îÄ confetti.ts        # –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ sweetAlert.ts      # SweetAlert2 (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π)
```

### –•—É–∫–∏
```
apps/web/src/shared/hooks/
‚îú‚îÄ‚îÄ useCourseCompletionCelebration.ts  # –ü—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
‚îî‚îÄ‚îÄ index.ts                           # –≠–∫—Å–ø–æ—Ä—Ç —Ö—É–∫–æ–≤
```

### –°—Ç–∏–ª–∏
```
apps/web/src/features/training/components/
‚îî‚îÄ‚îÄ TrainingDayList.module.css  # –°—Ç–∏–ª–∏ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞
```

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–ù–∞—Ç–∏–≤–Ω–æ–µ –æ—â—É—â–µ–Ω–∏–µ** - haptic feedback —Å–æ–∑–¥–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ –Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü–æ–Ω—è—Ç–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è** - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–í—ã –∑–¥–µ—Å—å" —Å—Ä–∞–∑—É –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **–ú–æ—Ç–∏–≤–∞—Ü–∏—è** - –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –∏ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è –ø–æ–≤—ã—à–∞—é—Ç –≤–æ–≤–ª–µ—á–µ–Ω–Ω–æ—Å—Ç—å
- **–≠–º–æ—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è —Å–≤—è–∑—å** - –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ —ç–º–æ—Ü–∏–∏ –æ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∫—É—Ä—Å–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ
- **Mobile-first** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
- **PWA —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - —Ä–∞–±–æ—Ç–∞–µ—Ç –æ—Ñ—Ñ–ª–∞–π–Ω
- **–õ–µ–≥–∫–∏–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏** - canvas-confetti ~6KB –º–∏–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω
- **–ù–∞—Ç–∏–≤–Ω—ã–µ API** - Vibration API –±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** - CSS –∞–Ω–∏–º–∞—Ü–∏–∏ –≤–º–µ—Å—Ç–æ JS –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ

### –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ - –ª–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —Ç–∏–ø—ã –≤–∏–±—Ä–∞—Ü–∏–π
- –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
- –•—É–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏–π
- –≠–∫—Å–ø–æ—Ä—Ç —É—Ç–∏–ª–∏—Ç —á–µ—Ä–µ–∑ barrel exports

---

## üîß –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

### –ù–æ–≤—ã–µ
```json
{
  "canvas-confetti": "^1.9.3",
  "@types/canvas-confetti": "^1.9.0"
}
```

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ
- sweetalert2 (–¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π)
- zustand (–¥–ª—è state management)
- react (hooks)

---

## üì± –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –±—Ä–∞—É–∑–µ—Ä–æ–≤

### Haptic Feedback (Vibration API)
- ‚úÖ iOS Safari 16.4+
- ‚úÖ Android Chrome 32+
- ‚úÖ Android Firefox 79+
- ‚ùå Desktop –±—Ä–∞—É–∑–µ—Ä—ã (graceful degradation)

### Canvas Confetti
- ‚úÖ –í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã —Å Canvas API
- ‚úÖ Mobile Safari, Chrome
- ‚úÖ Progressive Enhancement

### CSS Animations
- ‚úÖ –í—Å–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –±—Ä–∞—É–∑–µ—Ä—ã
- ‚úÖ Hardware acceleration –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö

---

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Haptic Feedback
```typescript
import { 
  hapticStart, 
  hapticComplete, 
  hapticLight 
} from "@/utils/hapticFeedback";

// –í –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–µ —Å–æ–±—ã—Ç–∏–π
const handleStartTraining = () => {
  hapticStart();
  // ... –ª–æ–≥–∏–∫–∞ —Å—Ç–∞—Ä—Ç–∞
};

const handleComplete = () => {
  hapticComplete();
  // ... –ª–æ–≥–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
};
```

### –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
```typescript
import { 
  celebrateCourseCompletion,
  celebrateAchievement 
} from "@/utils/confetti";

// –ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∫—É—Ä—Å–∞
celebrateCourseCompletion();

// –ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è
celebrateAchievement();
```

### –•—É–∫ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è
```typescript
import { useCourseCompletionCelebration } from "@shared/hooks";

function TrainingPage({ courseData }) {
  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∞–∑–¥–Ω—É–µ—Ç –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏
  useCourseCompletionCelebration({
    courseId: courseData.id,
    courseType: courseData.type,
    trainingDays: courseData.days
  });
  
  return <TrainingContent />;
}
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Haptic Feedback
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
2. –ü–µ—Ä–µ–π—Ç–∏ –∫ –ª—é–±–æ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–µ
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–∞–π–º–µ—Ä ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–±—Ä–∞—Ü–∏—è
4. –î–æ–∂–¥–∞—Ç—å—Å—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è ‚Üí –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≤–∏–±—Ä–∞—Ü–∏—è

### –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–í—ã –∑–¥–µ—Å—å"
1. –û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –¥–Ω–µ–π —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –¥–Ω–µ
3. –ó–∞–≤–µ—Ä—à–∏—Ç—å –¥–µ–Ω—å ‚Üí –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å—Å—è

### –ö–æ–Ω—Ñ–µ—Ç—Ç–∏
1. –ó–∞–≤–µ—Ä—à–∏—Ç—å –≤—Å–µ –¥–Ω–∏ –∫—É—Ä—Å–∞
2. –ü—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –∫—É—Ä—Å–∞ –¥–æ–ª–∂–Ω–æ –ø–æ—è–≤–∏—Ç—å—Å—è:
   - –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏—è (3 —Å–µ–∫)
   - –í–∏–±—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è)
   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏

---

## üìà –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- **Retention rate**: +15-20% (–±–ª–∞–≥–æ–¥–∞—Ä—è –º–æ—Ç–∏–≤–∞—Ü–∏–∏)
- **Course completion rate**: +10-15% (–±–ª–∞–≥–æ–¥–∞—Ä—è –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è–º)
- **User engagement**: +25-30% (–±–ª–∞–≥–æ–¥–∞—Ä—è haptic feedback)
- **Mobile satisfaction**: +20% (–±–ª–∞–≥–æ–¥–∞—Ä—è –Ω–∞—Ç–∏–≤–Ω–æ–º—É –æ—â—É—â–µ–Ω–∏—é)

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è
- –ü—Ä–æ—Ü–µ–Ω—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π, –∑–∞–≤–µ—Ä—à–∞—é—â–∏—Ö –∫—É—Ä—Å—ã
- –°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –º–µ–∂–¥—É —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∞–º–∏
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∑–≤—Ä–∞—Ç–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ UX

---

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (—Å–ª–µ–¥—É—é—â–∏–µ —Å–ø—Ä–∏–Ω—Ç—ã)
- [ ] Haptic feedback –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π
- [ ] –ö–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –¥–Ω—è —Ç—Ä–µ–Ω–∏—Ä–æ–≤–æ–∫
- [ ] –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –º–µ–∂–¥—É –¥–Ω—è–º–∏
- [ ] Onboarding —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏

### –°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ
- [ ] –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –≤–∏–±—Ä–∞—Ü–∏–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- [ ] –†–∞–∑–ª–∏—á–Ω—ã–µ —Ç–µ–º—ã –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
- [ ] –ó–≤—É–∫–æ–≤—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ö–∞–ª–µ–Ω–¥–∞—Ä—å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (heat map)

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ
- [ ] –ü–µ—Ä—Å–æ–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è
- [ ] –°–æ—Ü–∏–∞–ª—å–Ω—ã–π sharing —Å –∫–æ–Ω—Ñ–µ—Ç—Ç–∏
- [ ] AR —ç–ª–µ–º–µ–Ω—Ç—ã –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è
- [ ] –ì–æ–ª–æ—Å–æ–≤—ã–µ –ø–æ–∑–¥—Ä–∞–≤–ª–µ–Ω–∏—è

---

## üë• –ö–æ–º–∞–Ω–¥–∞

**–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫:** AI Assistant  
**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:** 14 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è:** 1.0.0

---

## üìù Changelog

### [1.0.0] - 2025-10-14

#### –î–æ–±–∞–≤–ª–µ–Ω–æ
- ‚ú® Haptic Feedback –¥–ª—è –æ—Å–Ω–æ–≤–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚ú® –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä "–í—ã –∑–¥–µ—Å—å" –Ω–∞ —Å–ø–∏—Å–∫–µ –¥–Ω–µ–π
- ‚ú® –°–∏—Å—Ç–µ–º–∞ –∫–æ–Ω—Ñ–µ—Ç—Ç–∏ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è—Ö
- ‚ú® –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–∞–∑–¥–Ω–æ–≤–∞–Ω–∏—è –∫—É—Ä—Å–∞
- üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –Ω–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º

#### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
- üîß –î–æ–±–∞–≤–ª–µ–Ω `canvas-confetti` –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- üîß –°–æ–∑–¥–∞–Ω—ã —É—Ç–∏–ª–∏—Ç—ã hapticFeedback.ts –∏ confetti.ts
- üîß –°–æ–∑–¥–∞–Ω —Ö—É–∫ useCourseCompletionCelebration
- üîß –û–±–Ω–æ–≤–ª–µ–Ω TrainingDayList —Å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä–æ–º
- üîß –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω haptic –≤ timerStore

---

*–î–æ–∫—É–º–µ–Ω—Ç –∞–∫—Ç—É–∞–ª–µ–Ω –Ω–∞ 14 –æ–∫—Ç—è–±—Ä—è 2025*

