# –°—Ä–∞–≤–Ω–µ–Ω–∏–µ: –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è vs Grafana Loki

## üìã –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–∞–∑–ª–∏—á–∏–π

**–í–∞–∂–Ω–æ:** Pino (`@gafus/logger`) –∏ Grafana Loki —Ä–µ—à–∞—é—Ç **—Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏**:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –£—Ä–æ–≤–µ–Ω—å | –ó–∞–¥–∞—á–∞ |
|-----------|---------|--------|
| **Pino** | SDK/–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö |
| **Grafana Loki** | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | –•—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∑–∞–ø—Ä–æ—Å –ª–æ–≥–æ–≤ |
| **PostgreSQL** (—Ç–µ–∫—É—â–µ–µ) | –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ | –•—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ –ë–î |

**–í—ã–≤–æ–¥:** Pino –∏ Loki **–Ω–µ –∑–∞–º–µ–Ω—è—é—Ç –¥—Ä—É–≥ –¥—Ä—É–≥–∞**, –æ–Ω–∏ **–º–æ–≥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ**.

---

## üîç –¢–µ–∫—É—â–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç–µ–∫
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Pino ‚Üí Error Dashboard API ‚Üí PostgreSQL ‚Üí Error Dashboard UI
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **Pino** (`@gafus/logger`) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –ª–æ–≥–æ–≤
2. **Error Dashboard** - Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—Ä–∏—ë–º–∞ –ª–æ–≥–æ–≤
3. **PostgreSQL** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—à–∏–±–æ–∫ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ
4. **Error Dashboard UI** - –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—à–∏–±–æ–∫

**–•—Ä–∞–Ω–∏—Ç—Å—è –≤ –ë–î:**
- –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏ (ErrorReport –º–æ–¥–µ–ª—å)
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ (appName, environment, userId, tags)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç (stack, componentStack, additionalContext)
- –°—Ç–∞—Ç—É—Å—ã (resolved, resolvedAt, resolvedBy)

---

## üîç Grafana Loki –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –°—Ç–µ–∫
```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Promtail/Agent ‚Üí Loki ‚Üí Object Storage (S3/local) ‚Üí Grafana UI
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **Promtail** - –∞–≥–µ–Ω—Ç –¥–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤ (–º–æ–∂–Ω–æ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Pino)
2. **Loki** - —Å–∏—Å—Ç–µ–º–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –ª–æ–≥–æ–≤
3. **Object Storage** - S3, GCS, –∏–ª–∏ –ª–æ–∫–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
4. **Grafana** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –∏ –∑–∞–ø—Ä–æ—Å—ã —á–µ—Ä–µ–∑ LogQL

**–•—Ä–∞–Ω–∏—Ç—Å—è –≤ Loki:**
- –°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–æ–≥–∏ (text-based)
- –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∫–∞–∫ labels (–∫–ª—é—á-–∑–Ω–∞—á–µ–Ω–∏–µ)
- –°—ã—Ä—ã–µ –ª–æ–≥–∏ –±–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–π —Å—Ö–µ–º—ã

---

## üìä –î–µ—Ç–∞–ª—å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ

### 1. –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

| –ö—Ä–∏—Ç–µ—Ä–∏–π | PostgreSQL (—Ç–µ–∫—É—â–µ–µ) | Grafana Loki |
|----------|---------------------|--------------|
| **–§–æ—Ä–º–∞—Ç** | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ (—Ç–∞–±–ª–∏—Ü—ã) | –°—Ç—Ä–æ–∫–æ–≤—ã–µ –ª–æ–≥–∏ + labels |
| **–°—Ö–µ–º–∞** | –°—Ç—Ä–æ–≥–∞—è (Prisma Schema) | –°–ª–∞–±–∞—è (text + labels) |
| **–ò–Ω–¥–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ** | –ü–æ–ª–Ω–æ–µ (–ø–æ –≤—Å–µ–º –ø–æ–ª—è–º) | –¢–æ–ª—å–∫–æ labels (–º–µ—Ç–∫–∏) |
| **–ó–∞–ø—Ä–æ—Å—ã** | SQL —Å JOIN, –∞–≥—Ä–µ–≥–∞—Ü–∏—è–º–∏ | LogQL (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π) |
| **–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–æ |

**–í—ã–≤–æ–¥:** PostgreSQL –ª—É—á—à–µ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö ‚úÖ

---

### 2. –ó–∞–ø—Ä–æ—Å—ã –∏ –ø–æ–∏—Å–∫

#### PostgreSQL (—Ç–µ–∫—É—â–µ–µ)
```sql
-- –ì–∏–±–∫–∏–µ –∑–∞–ø—Ä–æ—Å—ã
SELECT * FROM ErrorReport 
WHERE appName = 'web' 
  AND environment = 'production'
  AND resolved = false
  AND createdAt > NOW() - INTERVAL '7 days'
  AND tags @> ARRAY['error'];

-- –ê–≥—Ä–µ–≥–∞—Ü–∏–∏
SELECT appName, COUNT(*) 
FROM ErrorReport 
GROUP BY appName;
```

#### Grafana Loki (LogQL)
```logql
-- –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã
{app="web", environment="production"} |= "error"

-- –°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
{app="web"} | json | appName="web" | environment="production"
```

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è Loki:**
- ‚ùå –ù–µ—Ç JOIN –º–µ–∂–¥—É –ª–æ–≥–∞–º–∏
- ‚ùå –°–ª–æ–∂–Ω—ã–µ –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã
- ‚ùå –ü–æ–∏—Å–∫ –ø–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–º—É –º–µ–¥–ª–µ–Ω–Ω–µ–µ (–Ω–µ—Ç –ø–æ–ª–Ω–æ—Ç–µ–∫—Å—Ç–æ–≤–æ–π –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏)

**–í—ã–≤–æ–¥:** PostgreSQL –ª—É—á—à–µ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ ‚úÖ

---

### 3. UI –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

#### –¢–µ–∫—É—â–µ–µ (Error Dashboard)
- ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–π UI –ø–æ–¥ –Ω—É–∂–¥—ã –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—è–º
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (resolve/unresolve)
- ‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ —Ç–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

#### Grafana Loki (Grafana UI)
- ‚úÖ –ú–æ—â–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ª–æ–≥–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏ (Prometheus)
- ‚úÖ Dashboards –∏ –∞–ª–µ—Ä—Ç—ã
- ‚ùå –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å (–Ω–µ —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–π –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞)
- ‚ùå –ù–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞–º–∏ –æ—à–∏–±–æ–∫

**–í—ã–≤–æ–¥:** Error Dashboard –ª—É—á—à–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∞–º–∏ ‚úÖ

---

### 4. –†–µ—Å—É—Ä—Å—ã –∏ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ

| –ö—Ä–∏—Ç–µ—Ä–∏–π | PostgreSQL | Grafana Loki |
|----------|------------|--------------|
| **RAM** | ~500MB (–º–∏–Ω–∏–º–∞–ª—å–Ω–æ) | ~2GB (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) |
| **Disk** | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç –¥–∞–Ω–Ω—ã—Ö | –ó–∞–≤–∏—Å–∏—Ç –æ—Ç retention |
| **CPU** | –ù–∏–∑–∫–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ | –°—Ä–µ–¥–Ω—è—è –Ω–∞–≥—Ä—É–∑–∫–∞ |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** | –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ | –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ |

**Loki –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ–±—ä–µ–∫—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (–¥–µ—à–µ–≤–ª–µ)

**PostgreSQL –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –£–∂–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- ‚úÖ –ú–µ–Ω—å—à–µ —Ä–µ—Å—É—Ä—Å–æ–≤ –¥–ª—è –Ω–µ–±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Å—Ç–∞–ª—å–Ω–æ–π –ë–î –ø—Ä–æ–µ–∫—Ç–∞

**–í—ã–≤–æ–¥:** –î–ª—è —Ç–µ–∫—É—â–∏—Ö –æ–±—ä—ë–º–æ–≤ PostgreSQL –æ–ø—Ç–∏–º–∞–ª—å–Ω–µ–µ ‚úÖ

---

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø—Ä–æ–µ–∫—Ç–æ–º

#### –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞
```
@gafus/logger (Pino)
  ‚Üì HTTP
error-dashboard
  ‚Üì
PostgreSQL (—Ç–∞ –∂–µ –ë–î, —á—Ç–æ –∏ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –í—Å—ë –≤ –æ–¥–Ω–æ–º —Å—Ç–µ–∫–µ
- ‚úÖ –û–¥–Ω–∞ –ë–î –¥–ª—è –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Prisma
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

#### –° Loki
```
@gafus/logger (Pino)
  ‚Üì (–Ω—É–∂–µ–Ω —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç)
Promtail / Custom agent
  ‚Üì
Loki
  ‚Üì
Object Storage
  ‚Üì
Grafana
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- ‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–∏—Å (Loki)
- ‚ùå –û—Ç–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Object Storage)
- ‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–π UI (Grafana)
- ‚ùå –ê–≥–µ–Ω—Ç—ã –¥–ª—è —Å–±–æ—Ä–∞ –ª–æ–≥–æ–≤ (Promtail)

**–í—ã–≤–æ–¥:** –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—â–µ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ ‚úÖ

---

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å –∏ —Å–ª–æ–∂–Ω–æ—Å—Ç—å

### –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** $0 (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:** ‚úÖ –£–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:** –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ

### Grafana Loki
- **–°—Ç–æ–∏–º–æ—Å—Ç—å:** 
  - –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞: ~$30-50/–º–µ—Å—è—Ü (–¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã)
  - –ò–ª–∏ –±–µ—Å–ø–ª–∞—Ç–Ω–æ (–µ—Å–ª–∏ –µ—Å—Ç—å —Ä–µ—Å—É—Ä—Å—ã)
- **–°–ª–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è:** 
  - –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ Loki: **1-2 –¥–Ω—è**
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Promtail/–∞–≥–µ–Ω—Ç–æ–≤: **1 –¥–µ–Ω—å**
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana: **1 –¥–µ–Ω—å**
  - –ú–∏–≥—Ä–∞—Ü–∏—è –∫–æ–¥–∞: **2-3 –¥–Ω—è**
  - **–ò—Ç–æ–≥–æ: 5-7 –¥–Ω–µ–π**
- **–û–±—Å–ª—É–∂–∏–≤–∞–Ω–∏–µ:** 
  - –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è Loki
  - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞
  - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ retention policies

---

## üéØ –ö–æ–≥–¥–∞ –∏–º–µ–µ—Ç —Å–º—ã—Å–ª Loki?

### ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Loki –µ—Å–ª–∏:

1. **–ë–æ–ª—å—à–∏–µ –æ–±—ä—ë–º—ã –ª–æ–≥–æ–≤** (>1GB/–¥–µ–Ω—å)
   - Loki –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –≤ –æ–±—ä–µ–∫—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–µ—à–µ–≤–ª–µ

2. **–ù—É–∂–Ω–∞ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏—è —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏**
   - Grafana –ø–æ–∑–≤–æ–ª—è–µ—Ç –≤–∏–¥–µ—Ç—å –ª–æ–≥–∏ –∏ –º–µ—Ç—Ä–∏–∫–∏ –≤–º–µ—Å—Ç–µ
   - –ü–æ–ª–µ–∑–Ω–æ –¥–ª—è –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

3. **–ù—É–∂–Ω–æ –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ**
   - Loki –ª—É—á—à–µ —Ö—Ä–∞–Ω–∏—Ç –∏—Å—Ç–æ—Ä–∏—é –ª–æ–≥–æ–≤
   - –î–µ—à–µ–≤–ª–µ –¥–ª—è –∞—Ä—Ö–∏–≤–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

4. **–£–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Grafana/Prometheus**
   - –ï—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—Ç–µ–∫
   - –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ–≥–æ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞

### ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Loki –µ—Å–ª–∏:

1. **–ù—É–∂–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
   - PostgreSQL –ª—É—á—à–µ –¥–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –ü—Ä–æ—â–µ –∑–∞–ø—Ä–æ—Å—ã –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è

2. **–ù–µ–±–æ–ª—å—à–∏–µ –æ–±—ä—ë–º—ã –ª–æ–≥–æ–≤**
   - Overhead –æ—Ç Loki –Ω–µ –æ–ø—Ä–∞–≤–¥–∞–Ω
   - PostgreSQL –ø—Ä–æ—â–µ –∏ –±—ã—Å—Ç—Ä–µ–µ

3. **–ù—É–∂–Ω–æ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ –æ—à–∏–±–æ–∫**
   - Error Dashboard –ª—É—á—à–µ –¥–ª—è workflow –æ—à–∏–±–æ–∫
   - Grafana - —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π, –Ω–æ –Ω–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π

4. **–í–∞–∂–Ω–∞ –ø—Ä–æ—Å—Ç–æ—Ç–∞ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**
   - –¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—â–µ
   - –ú–µ–Ω—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ = –º–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º

---

## üîÑ –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –¢–µ–∫—É—â–µ–µ + Loki –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è

```
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí Pino ‚Üí Error Dashboard ‚Üí PostgreSQL (–∞–∫—Ç–∏–≤–Ω—ã–µ –æ—à–∏–±–∫–∏)
                                    ‚Üì
                              Loki (–∞—Ä—Ö–∏–≤ –ª–æ–≥–æ–≤)
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ PostgreSQL –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–∫–∞–º–∏ (–±—ã—Å—Ç—Ä–æ, —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–æ)
- ‚úÖ Loki –¥–ª—è –¥–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è (–¥–µ—à–µ–≤–ª–µ, –º–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ)
- ‚úÖ –õ—É—á—à–µ–µ –∏–∑ –æ–±–æ–∏—Ö –º–∏—Ä–æ–≤

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ >90 –¥–Ω–µ–π
- –û–±—ä—ë–º—ã –ª–æ–≥–æ–≤ —Ä–∞—Å—Ç—É—Ç
- –ù—É–∂–µ–Ω –¥–æ—Å—Ç—É–ø –∫ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏–º –ª–æ–≥–∞–º

---

## üìä –°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –ö—Ä–∏—Ç–µ—Ä–∏–π | PostgreSQL (—Ç–µ–∫—É—â–µ–µ) | Grafana Loki | –ì–∏–±—Ä–∏–¥ |
|----------|---------------------|--------------|--------|
| **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** | ‚úÖ –û—Ç–ª–∏—á–Ω–æ | ‚ö†Ô∏è –°—Ç—Ä–æ–∫–∏ + labels | ‚úÖ PostgreSQL |
| **–°–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã** | ‚úÖ SQL | ‚ö†Ô∏è LogQL –æ–≥—Ä–∞–Ω–∏—á–µ–Ω | ‚úÖ SQL |
| **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∞–º–∏** | ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–π UI | ‚ùå –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π | ‚úÖ –ö–∞—Å—Ç–æ–º–Ω—ã–π UI |
| **–ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ** | ‚ö†Ô∏è –í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–æ–µ | ‚úÖ –ì–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω–æ–µ | ‚úÖ –û–±–∞ |
| **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ** | ‚ö†Ô∏è –î–æ—Ä–æ–≥–æ | ‚úÖ –î–µ—à–µ–≤–æ | ‚úÖ Loki |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | ‚úÖ –ù–∞—Ç–∏–≤–Ω–∞—è | ‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ | ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ |
| **–°—Ç–æ–∏–º–æ—Å—Ç—å** | ‚úÖ $0 | ‚ö†Ô∏è +$30-50/–º–µ—Å | ‚ö†Ô∏è +$30-50/–º–µ—Å |
| **–°–ª–æ–∂–Ω–æ—Å—Ç—å** | ‚úÖ –ü—Ä–æ—Å—Ç–∞—è | ‚ùå –°–ª–æ–∂–Ω–∞—è | ‚ùå –û—á–µ–Ω—å —Å–ª–æ–∂–Ω–∞—è |

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞ GAFUS

### ‚úÖ **–û–°–¢–ê–í–ò–¢–¨ –¢–ï–ö–£–©–£–Æ –°–ò–°–¢–ï–ú–£**

**–ü—Ä–∏—á–∏–Ω—ã:**

1. **–†–∞–∑–º–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞**
   - –û–±—ä—ë–º—ã –ª–æ–≥–æ–≤ –Ω–µ–±–æ–ª—å—à–∏–µ
   - PostgreSQL –æ—Ç–ª–∏—á–Ω–æ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è
   - Overhead –æ—Ç Loki –Ω–µ –æ–ø—Ä–∞–≤–¥–∞–Ω

2. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ**
   - –û—à–∏–±–∫–∏ –∏–º–µ—é—Ç —á—ë—Ç–∫—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
   - –ù—É–∂–Ω—ã —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã (–ø–æ userId, tags, appName)
   - PostgreSQL –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ workflow**
   - Error Dashboard –∏–º–µ–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—ã–π UI
   - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞–º–∏ (resolve/unresolve)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–æ–π

4. **–ü—Ä–æ—Å—Ç–æ—Ç–∞**
   - –í—Å—ë –≤ –æ–¥–Ω–æ–º —Å—Ç–µ–∫–µ
   - –ú–µ–Ω—å—à–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ = –º–µ–Ω—å—à–µ –ø—Ä–æ–±–ª–µ–º
   - –õ–µ–≥—á–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å

5. **–°—Ç–æ–∏–º–æ—Å—Ç—å**
   - $0 –≤–º–µ—Å—Ç–æ $30-50/–º–µ—Å—è—Ü
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

---

### üîÆ –ö–æ–≥–¥–∞ —Å—Ç–æ–∏—Ç —Ä–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å Loki

**–í –±—É–¥—É—â–µ–º, –µ—Å–ª–∏:**
1. –û–±—ä—ë–º—ã –ª–æ–≥–æ–≤ –≤—ã—Ä–∞—Å—Ç—É—Ç >1GB/–¥–µ–Ω—å
2. –ü–æ—è–≤–∏—Ç—Å—è –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å –≤ –∫–æ—Ä—Ä–µ–ª—è—Ü–∏–∏ –ª–æ–≥–æ–≤ –∏ –º–µ—Ç—Ä–∏–∫
3. –ù—É–∂–Ω–æ —Ö—Ä–∞–Ω–∏—Ç—å –ª–æ–≥–∏ >1 –≥–æ–¥–∞
4. –ö–æ–º–∞–Ω–¥–∞ –Ω–∞—á–Ω—ë—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Grafana –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–¥–∞—á

**–¢–æ–≥–¥–∞:** –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (PostgreSQL + Loki)

---

## üìù –í—ã–≤–æ–¥—ã

1. **Pino –∏ Loki –Ω–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ã** ‚Äî –æ–Ω–∏ —Ä–µ—à–∞—é—Ç —Ä–∞–∑–Ω—ã–µ –∑–∞–¥–∞—á–∏
   - Pino = –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–æ–≥–æ–≤ (SDK)
   - Loki = —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ (–∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞)

2. **–¢–µ–∫—É—â–∞—è —Å–∏—Å—Ç–µ–º–∞ –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞** –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞
   - –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ ‚Üí PostgreSQL
   - –ù–µ–±–æ–ª—å—à–∏–µ –æ–±—ä—ë–º—ã ‚Üí PostgreSQL –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ
   - –ö–∞—Å—Ç–æ–º–Ω—ã–π UI ‚Üí –ª—É—á—à–µ –ø–æ–¥—Ö–æ–¥–∏—Ç

3. **Loki –∏–º–µ–µ—Ç —Å–º—ã—Å–ª** –¥–ª—è:
   - –ë–æ–ª—å—à–∏—Ö –æ–±—ä—ë–º–æ–≤ –ª–æ–≥–æ–≤
   - –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å Grafana/Prometheus

4. **–ù–µ —Å—Ç–æ–∏—Ç –º–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–π—á–∞—Å**
   - –°–ª–æ–∂–Ω–æ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏: 5-7 –¥–Ω–µ–π
   - –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã: $30-50/–º–µ—Å—è—Ü
   - –ü–æ—Ç–µ—Ä—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏: –∫–∞—Å—Ç–æ–º–Ω—ã–π UI

---

## üîß –ß—Ç–æ –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å –≤ —Ç–µ–∫—É—â–µ–π —Å–∏—Å—Ç–µ–º–µ

–í–º–µ—Å—Ç–æ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Loki, –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É:

1. **–ê—Ä—Ö–∏–≤–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤** (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ >90 –¥–Ω–µ–π
   - –ò–ª–∏ —ç–∫—Å–ø–æ—Ä—Ç –≤ S3 –¥–ª—è –∞—Ä—Ö–∏–≤–∞

2. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤**
   - –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã –¥–ª—è —á–∞—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
   - –ü–∞—Ä—Ç–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ –¥–∞—Ç–∞–º (–µ—Å–ª–∏ –æ–±—ä—ë–º—ã —Ä–∞—Å—Ç—É—Ç)

3. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–µ—Ç—Ä–∏–∫–∞–º–∏**
   - –ï—Å–ª–∏ –Ω—É–∂–Ω–æ, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —ç–∫—Å–ø–æ—Ä—Ç –≤ Prometheus
   - –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –ë–î –¥–ª—è –º–µ—Ç—Ä–∏–∫

---

*–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω: –Ø–Ω–≤–∞—Ä—å 2025*
*–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: –û—Å—Ç–∞–≤–∏—Ç—å —Ç–µ–∫—É—â—É—é —Å–∏—Å—Ç–µ–º—É*

















