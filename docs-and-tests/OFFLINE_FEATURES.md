# Offline —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –¥–ª—è Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## –û–±–∑–æ—Ä

Web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ì–∞—Ñ—É—Å —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–ª–Ω—É—é offline —Ä–∞–±–æ—Ç—É, –ø–æ–∑–≤–æ–ª—è—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å –æ–±—É—á–µ–Ω–∏–µ –¥–∞–∂–µ –±–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

## –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç offline:**

- **–ü—Ä–æ—Å–º–æ—Ç—Ä –∫—É—Ä—Å–æ–≤** - –≤—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∫—É—Ä—Å—ã –¥–æ—Å—Ç—É–ø–Ω—ã
- **–¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏** - –º–æ–∂–Ω–æ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å —à–∞–≥–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å
- **–ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã –∏ API –¥–∞–Ω–Ω—ã–µ

### ‚ùå **–ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç offline:**

- **Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** - —Ç—Ä–µ–±—É—é—Ç —Å–µ—Ä–≤–µ—Ä Worker
- **–ù–æ–≤—ã–µ –∫—É—Ä—Å—ã** - —Ç–æ–ª—å–∫–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏** - –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏, —Ä–µ–π—Ç–∏–Ω–≥–∏ (—Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è offline)
- **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞** - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –º–µ—Ç—Ä–∏–∫–∏

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### 1. **Service Worker (v7)**

- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:**
  - `cache-first` - –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤ (CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è)
  - `network-first` - –¥–ª—è API –¥–∞–Ω–Ω—ã—Ö (–∫—É—Ä—Å—ã, –ø—Ä–æ—Ñ–∏–ª—å)
  - `stale-while-revalidate` - –¥–ª—è —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - `cache-only` - –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

- **–ö—ç—à–∏—Ä—É–µ–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã:**
  - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã: `/`, `/login`, `/courses`, `/trainings`, `/profile`
  - –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã: CSS, JS, –∏–∫–æ–Ω–∫–∏, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
  - API endpoints: `/api/courses`, `/api/trainings`, `/api/user/*`

### 2. **Offline Store (Zustand)**

- **–°–æ—Å—Ç–æ—è–Ω–∏–µ —Å–µ—Ç–∏:**
  - `isOnline` - —Å—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è (—á—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç –±—Ä–∞—É–∑–µ—Ä)
  - `isStable` - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (–ø–æ —Ç–∏–ø—É —Å–µ—Ç–∏)
  - `isActuallyConnected` - —Ä–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è (ping —Ç–µ—Å—Ç)

- **–û—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**
  - `syncQueue` - —Å–ø–∏—Å–æ–∫ offline –¥–µ–π—Å—Ç–≤–∏–π
  - `lastSyncTime` - –≤—Ä–µ–º—è –ø–æ—Å–ª–µ–¥–Ω–µ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
  - `syncErrors` - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—à–∏–±–æ–∫ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### 3. **Offline Hooks**

- `useOfflineStatus()` - —Å—Ç–∞—Ç—É—Å —Å–µ—Ç–∏, —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –∏ —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- `useSyncQueue()` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- `useOfflineData()` - —Ä–∞–±–æ—Ç–∞ —Å offline –¥–∞–Ω–Ω—ã–º–∏

### 4. **UI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**

- `OfflineStatus` - –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ç–∏ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π
- `OfflineNotification` - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± offline —Ä–µ–∂–∏–º–µ
- –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ –æ—Å–Ω–æ–≤–Ω–æ–π layout

## –†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### **–ü—Ä–æ–±–ª–µ–º–∞ "—Ñ–∞–Ω—Ç–æ–º–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è":**

–ß–∞—Å—Ç–æ –±—ã–≤–∞–µ—Ç, —á—Ç–æ –±—Ä–∞—É–∑–µ—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç `navigator.onLine = true` –∏ –¥–∞–∂–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ç–∏–ø —Å–µ—Ç–∏ –∫–∞–∫ `4g`/`lte`, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ –ø–∞–∫–µ—Ç—ã –Ω–µ —É—Ö–æ–¥—è—Ç. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è "—Ñ–∞–Ω—Ç–æ–º–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ".

### **–†–µ—à–µ–Ω–∏–µ - –¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:**

1. **–ë—Ä–∞—É–∑–µ—Ä–Ω—ã–π —Å—Ç–∞—Ç—É—Å** - `navigator.onLine`
2. **–†–µ–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞** - ping —Ç–µ—Å—Ç –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º (Google, Cloudflare, GitHub)

### **–õ–æ–≥–∏–∫–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è offline:**

```typescript
// –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—á–∏—Ç–∞–µ—Ç—Å—è offline –µ—Å–ª–∏:
const isOffline = !browserOnline || !actuallyConnected;

// –ì–¥–µ:
// browserOnline = navigator.onLine
// actuallyConnected = —É—Å–ø–µ—à–Ω—ã–π ping —Ç–µ—Å—Ç –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º
```

### **–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ç–∏:**

1. **Network Information API** - —Å–∞–º—ã–π —Ç–æ—á–Ω—ã–π, –µ—Å–ª–∏ –¥–æ—Å—Ç—É–ø–µ–Ω
2. **–í–Ω–µ—à–Ω–∏–µ –ø–∏–Ω–≥–∏** - —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ (–Ω–µ—Ç Network API –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã)
3. **–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏** - –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç –≤–º–µ—Å—Ç–æ 30 —Å–µ–∫—É–Ω–¥

### **–í–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**

- `https://www.google.com/favicon.ico` - 16x16 –∏–∫–æ–Ω–∫–∞, –±—ã—Å—Ç—Ä–æ
- `https://www.cloudflare.com/favicon.ico` - CDN, —Å—Ç–∞–±–∏–ª—å–Ω—ã–π
- `https://github.com/favicon.ico` - GitHub, –Ω–∞–¥–µ–∂–Ω—ã–π
- `https://httpbin.org/status/200` - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### **–¢–∏–ø—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π:**

- üü¢ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–Ω–ª–∞–π–Ω** - –±—Ä–∞—É–∑–µ—Ä –æ–Ω–ª–∞–π–Ω + —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç
- üü° **–ù–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ** - –±—Ä–∞—É–∑–µ—Ä –æ–Ω–ª–∞–π–Ω + —Ä–µ–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –º–µ–¥–ª–µ–Ω–Ω–æ
- üî¥ **–û—Ñ–ª–∞–π–Ω** - –±—Ä–∞—É–∑–µ—Ä –æ—Ñ–ª–∞–π–Ω –ò–õ–ò —Ä–µ–∞–ª—å–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚ö†Ô∏è **–§–∞–Ω—Ç–æ–º–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ** - –±—Ä–∞—É–∑–µ—Ä –æ–Ω–ª–∞–π–Ω, –Ω–æ —Ä–µ–∞–ª—å–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

## Offline —Ä–µ–∂–∏–º –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ —Å–µ—Ç–∏

### **DevTools Offline —Ä–µ–∂–∏–º:**

–ö–æ–≥–¥–∞ –≤—ã –≤–∫–ª—é—á–∞–µ—Ç–µ "Offline" –≤ DevTools ‚Üí Network, –±—Ä–∞—É–∑–µ—Ä **–ø–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ —Å–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã**, –≤–∫–ª—é—á–∞—è –Ω–∞—à ping —Ç–µ—Å—Ç. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ:

1. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ** - –±—Ä–∞—É–∑–µ—Ä —Å–∞–º —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç `navigator.onLine = false`
2. **Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏** - Service Worker –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
3. **Offline —Å—Ç—Ä–∞–Ω–∏—Ü–∞** - –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è `/~offline` –¥–ª—è –Ω–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü

### **–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø–æ–ª–Ω–æ–π –±–ª–æ–∫–∏—Ä–æ–≤–∫–µ:**

- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã** - —Ä–∞–±–æ—Ç–∞—é—Ç –Ω–æ—Ä–º–∞–ª—å–Ω–æ
- ‚úÖ **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã** - –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –∏–∑ –∫—ç—à–∞
- ‚úÖ **API –¥–∞–Ω–Ω—ã–µ** - –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –∏–∑ –∫—ç—à–∞ —Å –ø–æ–º–µ—Ç–∫–æ–π "offline"
- ‚úÖ **–ù–∞–≤–∏–≥–∞—Ü–∏—è** - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –º–∞—Ä—à—Ä—É—Ç–∞–º
- ‚ùå **–ù–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ** - –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã
- ‚ùå **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** - –æ—Ç–ª–æ–∂–µ–Ω–∞ –¥–æ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–µ—Ç–∏

### **Offline —Å—Ç—Ä–∞–Ω–∏—Ü–∞:**

–ü—Ä–∏ –ø–æ–ø—ã—Ç–∫–µ –∑–∞–≥—Ä—É–∑–∏—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É –±–µ–∑ –∫—ç—à–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è offline —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å:

- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ç–æ–º, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç offline
- –ö–Ω–æ–ø–∫–æ–π "–ü–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å —Å–Ω–æ–≤–∞"
- –°–æ–≤–µ—Ç–∞–º–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é offline —Ä–µ–∂–∏–º–∞

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### **–ë–∞–∑–æ–≤–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ —Å–µ—Ç–∏:**

```typescript
import { useOfflineStatus } from '@shared/hooks';

function MyComponent() {
  const { isOnline, isOffline, statusText, statusIcon } = useOfflineStatus();

  return (
    <div>
      –°—Ç–∞—Ç—É—Å: {statusIcon} {statusText}
      {isOffline && <p>–†–∞–±–æ—Ç–∞–µ–º –≤ offline —Ä–µ–∂–∏–º–µ</p>}
    </div>
  );
}
```

### **–†–∞–±–æ—Ç–∞ —Å –æ—á–µ—Ä–µ–¥—å—é —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**

```typescript
import { useSyncQueue } from '@shared/hooks';

function SyncStatus() {
  const { queueLength, hasPendingActions, syncOfflineActions } = useSyncQueue();

  return (
    <div>
      {hasPendingActions && (
        <button onClick={syncOfflineActions}>
          –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å ({queueLength})
        </button>
      )}
    </div>
  );
}
```

### **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö offline:**

```typescript
import { useOfflineData } from '@shared/hooks';

function TrainingStep() {
  const { completeStepOffline } = useOfflineData();

  const handleStepComplete = async () => {
    const result = await completeStepOffline({
      courseId: 'course-1',
      dayId: 'day-1',
      stepId: 'step-1',
      completed: true
    });

    if (result.offline) {
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± offline —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏
      console.log('–®–∞–≥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω offline');
    }
  };

  return <button onClick={handleStepComplete}>–ó–∞–≤–µ—Ä—à–∏—Ç—å —à–∞–≥</button>;
}
```

### **–ü–æ–∫–∞–∑ offline —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

```typescript
import { useOfflineNotification } from '@shared/components/ui';

function MyComponent() {
  const { showNotification } = useOfflineNotification();

  const handleAction = () => {
    showNotification('–î–µ–π—Å—Ç–≤–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ!', 'success');
  };

  return <button onClick={handleAction}>–í—ã–ø–æ–ª–Ω–∏—Ç—å</button>;
}
```

## –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### **Cache-First (–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã)**

```typescript
// CSS, JS, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏–∫–æ–Ω–∫–∏
// –ï—Å–ª–∏ –µ—Å—Ç—å –≤ –∫—ç—à–µ - –±–µ—Ä–µ–º –æ—Ç—Ç—É–¥–∞, –∏–Ω–∞—á–µ —Å —Å–µ—Ç–∏
```

### **Network-First (API –¥–∞–Ω–Ω—ã–µ)**

```typescript
// –ö—É—Ä—Å—ã, —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏, –ø—Ä–æ—Ñ–∏–ª—å
// –°–Ω–∞—á–∞–ª–∞ —Å–µ—Ç—å, –µ—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –∏–∑ –∫—ç—à–∞
```

### **Stale-While-Revalidate (–ß–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ–º—ã–µ)**

```typescript
// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É
// –í —Ñ–æ–Ω–µ –æ–±–Ω–æ–≤–ª—è–µ–º –∏–∑ —Å–µ—Ç–∏
```

### **Cache-Only (–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã)**

```typescript
// –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –ª–æ–≥–∏–Ω
// –¢–æ–ª—å–∫–æ –∏–∑ –∫—ç—à–∞, –Ω–µ –æ–±—Ä–∞—â–∞–µ–º—Å—è –∫ —Å–µ—Ç–∏
```

## –û—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

### **–¢–∏–ø—ã offline –¥–µ–π—Å—Ç–≤–∏–π:**

1. **`step-completion`** - –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —à–∞–≥–∞ —Ç—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏
2. **`profile-update`** - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è
3. **`comment`** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è
4. **`rating`** - –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–π—Ç–∏–Ω–≥–∞

### **–õ–æ–≥–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏:**

- –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç –ø–æ–ø—ã—Ç–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- –ü—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞ –¥–µ–π—Å—Ç–≤–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è –∏–∑ –æ—á–µ—Ä–µ–¥–∏
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ localStorage

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### **–°–∏–º—É–ª—è—Ü–∏—è offline —Ä–µ–∂–∏–º–∞:**

1. **Chrome DevTools:**
   - Network tab ‚Üí Offline checkbox
   - Application tab ‚Üí Service Workers ‚Üí Update on reload

2. **–ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ:**

   ```typescript
   // –≠–º—É–ª–∏—Ä—É–µ–º offline —Ä–µ–∂–∏–º
   Object.defineProperty(navigator, "onLine", {
     value: false,
     writable: true,
   });

   // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–æ–±—ã—Ç–∏–µ offline
   window.dispatchEvent(new Event("offline"));
   ```

### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è:**

1. **Application tab ‚Üí Storage:**
   - Cache Storage - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
   - IndexedDB - –ø—Ä–æ–≤–µ—Ä–∫–∞ offline –¥–∞–Ω–Ω—ã—Ö
   - Local Storage - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫

2. **Console:**

   ```typescript
   // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç–∞—Ç—É—Å Service Worker
   navigator.serviceWorker.ready.then((registration) => {
     console.log("SW Status:", registration.active?.state);
   });

   // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à–∏
   caches.keys().then((names) => console.log("Caches:", names));
   ```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

- **Lazy loading** - –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–µ—Å—É—Ä—Å–æ–≤ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é
- **Precaching** - –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- **Background sync** - —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≤ —Ñ–æ–Ω–µ
- **Compression** - —Å–∂–∞—Ç–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:**

- **Cache hit ratio** - –ø—Ä–æ—Ü–µ–Ω—Ç –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ –∫—ç—à–∞
- **Sync queue size** - —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- **Offline usage** - –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã –≤ offline —Ä–µ–∂–∏–º–µ

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### **–í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**

- –í—Å–µ offline –¥–∞–Ω–Ω—ã–µ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–µ–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –ó–∞—â–∏—Ç–∞ –æ—Ç XSS –≤ offline —Ä–µ–∂–∏–º–µ

### **–ü—Ä–∏–≤–∞—Ç–Ω–æ—Å—Ç—å:**

- Offline –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º
- –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ logout

## –ü–ª–∞–Ω—ã —Ä–∞–∑–≤–∏—Ç–∏—è

### **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ (v7.1):**

- [ ] –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö –∫—ç—à–µ–π
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã–µ (v7.2):**

- [ ] –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –ö–æ–Ω—Ñ–ª–∏–∫—Ç-—Ä–µ–∑–æ–ª—é—à–Ω –¥–ª—è –¥–∞–Ω–Ω—ã—Ö
- [ ] Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –≤ offline —Ä–µ–∂–∏–º–µ

### **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ (v7.3):**

- [ ] Peer-to-peer —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
- [ ] –û—Ñ–ª–∞–π–Ω –∞–Ω–∞–ª–∏—Ç–∏–∫–∞
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫—ç—à–µ–π

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### **–ü—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è:**

1. **–ö—ç—à –Ω–µ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–µ—Ä—Å–∏—é Service Worker
   - –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ –∫—ç—à–∏
   - –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å SW

2. **–î–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ç–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—á–µ—Ä–µ–¥—å —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏

3. **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç offline:**
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —É—Å—Ç–∞–Ω–æ–≤–∫—É Service Worker
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### **–õ–æ–≥–∏ –∏ –æ—Ç–ª–∞–¥–∫–∞:**

- –í—Å–µ offline –æ–ø–µ—Ä–∞—Ü–∏–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å
- Service Worker —Å–æ–±—ã—Ç–∏—è –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤ DevTools
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ UI
