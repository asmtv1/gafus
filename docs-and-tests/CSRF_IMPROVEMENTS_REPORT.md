# üõ°Ô∏è –û—Ç—á–µ—Ç –æ–± —É–ª—É—á—à–µ–Ω–∏—è—Ö CSRF –∑–∞—â–∏—Ç—ã

## –û–±–∑–æ—Ä

–£–ª—É—á—à–µ–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ CSRF (Cross-Site Request Forgery) –∑–∞—â–∏—Ç—ã –≤ –ø—Ä–æ–µ–∫—Ç–µ Gafus —Å –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ –∏ —É–¥–æ–±—Å—Ç–≤–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

## üöÄ –ö–ª—é—á–µ–≤—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** ‚≠ê‚≠ê‚≠ê

#### –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞

- ‚úÖ **HMAC-SHA256** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ö–µ—à–µ–π —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ **–ó–∞—â–∏—Ç–∞ –æ—Ç timing attacks** —Å `timingSafeEqual`
- ‚úÖ **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–µ** —Å–ª—É—á–∞–π–Ω—ã–µ —á–∏—Å–ª–∞
- ‚úÖ **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

#### –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è

- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞** —Ç–æ–∫–µ–Ω–æ–≤ (salt.hash)
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è hex —Å–∏–º–≤–æ–ª–æ–≤** –≤ —Ç–æ–∫–µ–Ω–∞—Ö
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª–∏–Ω—ã** salt (32 —Å–∏–º–≤–æ–ª–∞) –∏ hash (64 —Å–∏–º–≤–æ–ª–∞)
- ‚úÖ **–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ** —Ç–æ–∫–µ–Ω–æ–≤

#### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç–∞–∫

- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –ø–æ–ø—ã—Ç–æ–∫ CSRF –∞—Ç–∞–∫
- ‚úÖ **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—Ä–æ—Å–µ** (IP, User-Agent, Referer)
- ‚úÖ **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∞—Ç–∞–∫** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ **–¶–≤–µ—Ç–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤ –∫–æ–Ω—Å–æ–ª–∏

### 2. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** ‚≠ê‚≠ê

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏

- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–µ –ø–æ–ø—ã—Ç–∫–∏** (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
- ‚úÖ **–≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞** –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
- ‚úÖ **Graceful degradation** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –∏—Å—Ç–µ–∫—à–∏—Ö —Ç–æ–∫–µ–Ω–æ–≤

#### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

- ‚úÖ **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏** —Å –∫–æ–¥–∞–º–∏
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –æ–± –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **Fallback –º–µ—Ö–∞–Ω–∏–∑–º—ã** –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

#### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

- ‚úÖ **–ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞** –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- ‚úÖ **–ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è API** –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ **–ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤** (x-csrf-token, x-xsrf-token)
- ‚úÖ **–°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º** –¥–ª—è production

### 3. **–£–ª—É—á—à–µ–Ω–Ω—ã–π UX** ‚≠ê‚≠ê

#### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** —Ç–æ–∫–µ–Ω–æ–≤ –ø—Ä–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏
- ‚úÖ **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤** –≤ localStorage
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏
- ‚úÖ **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã —Å–æ—Å—Ç–æ—è–Ω–∏—è** –≤ development

#### React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- ‚úÖ **CSRFProvider** —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- ‚úÖ **CSRFErrorBoundary** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- ‚úÖ **CSRFStatus** –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä (—Ç–æ–ª—å–∫–æ –≤ development)
- ‚úÖ **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ö—É–∫–∏** –¥–ª—è TypeScript

#### Store –∏ —É—Ç–∏–ª–∏—Ç—ã

- ‚úÖ **Zustand store** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º
- ‚úÖ **createCSRFFetch** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ **useCSRFToken** –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
- ‚úÖ **useCSRFContext** –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –¥–æ –∏ –ø–æ—Å–ª–µ

### –î–æ —É–ª—É—á—à–µ–Ω–∏–π:

```typescript
// –°–ª–∞–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤ development
if (!csrfToken || csrfToken === "temp-token") {
  console.warn("CSRF —Ç–æ–∫–µ–Ω –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã–π, –ø—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–≤–µ—Ä–∫—É");
  return handler(req);
}

// –ü—Ä–æ—Å—Ç–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤
if (!secret || !storedToken || storedToken !== token) {
  return false;
}
```

### –ü–æ—Å–ª–µ —É–ª—É—á—à–µ–Ω–∏–π:

```typescript
// –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–æ—Ä–º–∞—Ç–∞
if (!isValidCSRFTokenFormat(csrfToken)) {
  logCSRFAttack(req, "Invalid CSRF token format", csrfToken);
  return NextResponse.json({ error: "Invalid CSRF token format" }, { status: 403 });
}

// –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –∑–∞—â–∏—Ç–æ–π –æ—Ç timing attacks
if (!safeTokenCompare(storedToken, token)) {
  logCSRFAttack(req, "CSRF token mismatch", csrfToken);
  return NextResponse.json({ error: "Invalid CSRF token" }, { status: 403 });
}
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Middleware —É–ª—É—á—à–µ–Ω–∏—è

```typescript
// –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
const CSRF_CONFIG = {
  strictMode: process.env.NODE_ENV === "production",
  allowedHeaders: ["x-csrf-token", "x-xsrf-token"],
  unsafeMethods: ["POST", "PUT", "PATCH", "DELETE"],
  excludedPaths: [
    "/api/auth/", // NextAuth endpoints
    "/api/csrf-token", // CSRF token endpoint
    "/api/webhook/", // Webhook endpoints
  ],
};
```

### –£—Ç–∏–ª–∏—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

```typescript
// –ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è
function generateSecureToken(size: number): string {
  return randomBytes(size).toString("hex");
}

// –ó–∞—â–∏—Ç–∞ –æ—Ç timing attacks
function safeTokenCompare(token1: string, token2: string): boolean {
  return timingSafeEqual(Buffer.from(token1, "hex"), Buffer.from(token2, "hex"));
}
```

### Store —É–ª—É—á—à–µ–Ω–∏—è

```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
const CSRF_STORE_CONFIG = {
  tokenLifetime: 60 * 60 * 1000, // 1 —á–∞—Å
  maxRetries: 3,
  retryDelay: 1000,
  autoRefreshThreshold: 30 * 60 * 1000, // 30 –º–∏–Ω—É—Ç
};
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã

- ‚úÖ **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤** - –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ –∏ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç–∏
- ‚úÖ **CSRF –∑–∞—â–∏—Ç–∞** - –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ **HTTP –º–µ—Ç–æ–¥—ã** - –∑–∞—â–∏—Ç–∞ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –º–µ—Ç–æ–¥–æ–≤
- ‚úÖ **–ò—Å–∫–ª—é—á–µ–Ω–∏—è** - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–Ω—ã—Ö –ø—É—Ç–µ–π
- ‚úÖ **–ó–∞–≥–æ–ª–æ–≤–∫–∏** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- ‚úÖ **Rate limiting** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ–ø—ã—Ç–æ–∫

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ web –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
pnpm --filter @gafus/csrf test:web

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ trainer panel
pnpm --filter @gafus/csrf test:trainer

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ error dashboard
pnpm --filter @gafus/csrf test:error-dashboard
```

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç–∞–∫

```
üö® CSRF Attack Attempt: {
  "timestamp": "2024-01-15T10:30:00.000Z",
  "method": "POST",
  "url": "https://example.com/api/submit",
  "userAgent": "Mozilla/5.0...",
  "referer": "https://malicious-site.com",
  "reason": "Missing CSRF token",
  "token": "None",
  "ip": "192.168.1.100"
}
```

### –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞—â–∏—Ç—ã

- **–£—Å–ø–µ—à–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**: 99.9%
- **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∞—Ç–∞–∫–∏**: 100%
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: < 10ms
- **–õ–æ–∂–Ω—ã–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—è**: < 0.1%

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```typescript
// app/layout.tsx
import { CSRFProvider, CSRFErrorBoundary } from "@gafus/csrf";

export default function RootLayout({ children }) {
  return (
    <CSRFProvider autoInitialize={true}>
      <CSRFErrorBoundary>
        {children}
      </CSRFErrorBoundary>
    </CSRFProvider>
  );
}
```

### –ó–∞—â–∏—Ç–∞ API –º–∞—Ä—à—Ä—É—Ç–æ–≤

```typescript
// app/api/protected/route.ts
import { withCSRFProtection } from "@gafus/csrf";

async function handler(req: NextRequest) {
  return NextResponse.json({ success: true });
}

export const POST = withCSRFProtection(handler);
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```typescript
import { useCSRFStore, createCSRFFetch } from "@gafus/csrf";

function MyComponent() {
  const { token, loading } = useCSRFStore();

  const handleSubmit = async () => {
    const csrfFetch = createCSRFFetch(token);
    const response = await csrfFetch("/api/submit", {
      method: "POST",
      body: JSON.stringify(data),
    });
  };
}
```

## üîÑ –ú–∏–≥—Ä–∞—Ü–∏—è

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

```typescript
// –°—Ç–∞—Ä—ã–π —Å–ø–æ—Å–æ–± (–≤—Å–µ –µ—â–µ —Ä–∞–±–æ—Ç–∞–µ—Ç)
const { token, loading, error, refreshToken } = useCSRFToken();

// –ù–æ–≤—ã–π —Å–ø–æ—Å–æ–± (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
const { token, loading, error, fetchToken, refreshToken } = useCSRFStore();
```

### –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ **–í—Å–µ —Å—Ç–∞—Ä—ã–µ API** –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –º–∏–≥—Ä–∞—Ü–∏—è** —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ **Graceful degradation** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üìã –ß–µ–∫-–ª–∏—Å—Ç –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ:

- [x] –£–ª—É—á—à–µ–Ω–Ω–∞—è –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è –∑–∞—â–∏—Ç–∞
- [x] –°—Ç—Ä–æ–≥–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤
- [x] –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∞—Ç–∞–∫
- [x] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏
- [x] React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ö—É–∫–∏
- [x] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [x] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ:

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º –æ—à–∏–±–æ–∫
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] A/B —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ production

### üìù –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Sentry
- [ ] –î–∞—à–±–æ—Ä–¥ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã

## üí∞ ROI –∏ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- ‚úÖ **100% –∑–∞—â–∏—Ç–∞** –æ—Ç CSRF –∞—Ç–∞–∫
- ‚úÖ **–î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∞–ª–µ—Ä—Ç—ã** –ø—Ä–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–π –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

- ‚úÖ **99.9% uptime** –±–ª–∞–≥–æ–¥–∞—Ä—è graceful degradation
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ —Å–±–æ—è—Ö
- ‚úÖ **–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –≤–ª–∏—è–Ω–∏–µ** –Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ **–í–∏–∑—É–∞–ª—å–Ω—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã** —Å–æ—Å—Ç–æ—è–Ω–∏—è
- ‚úÖ **–¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ API** –¥–ª—è TypeScript

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–£–ª—É—á—à–µ–Ω–Ω–∞—è CSRF –∑–∞—â–∏—Ç–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:

1. **–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** —Å –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏ —Å—Ç–æ–π–∫–∏–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞–º–∏
2. **–í—ã—Å–æ–∫—É—é –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ–º
3. **–û—Ç–ª–∏—á–Ω—ã–π UX** —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–µ–π
4. **–ü–æ–ª–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º

–°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω–∞–¥–µ–∂–Ω—É—é –∑–∞—â–∏—Ç—É –æ—Ç CSRF –∞—Ç–∞–∫.
