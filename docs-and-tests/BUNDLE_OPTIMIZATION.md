# Bundle Optimization –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ì–∞—Ñ—É—Å

## üéØ **–¶–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

–£–º–µ–Ω—å—à–∏—Ç—å —Ä–∞–∑–º–µ—Ä JavaScript –±–∞–Ω–¥–ª–∞ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü.

## üìä **–¢–µ–∫—É—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã (–¥–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏)**

- **Shared chunks**: 103 kB
- **Profile page**: 204 kB ‚ö†Ô∏è (–æ—á–µ–Ω—å –±–æ–ª—å—à–æ–π!)
- **Trainings page**: 144 kB
- **Middleware**: 60.2 kB

## üöÄ **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

### 1. **Tree Shaking –¥–ª—è MUI**

- –°–æ–∑–¥–∞–Ω `utils/muiImports.ts` —Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –∏–º–ø–æ—Ä—Ç–∞–º–∏
- –ó–∞–º–µ–Ω–µ–Ω—ã –∏–º–ø–æ—Ä—Ç—ã `@mui/material` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –£–¥–∞–ª–µ–Ω—ã –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–∫–æ–Ω–∫–∏ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 2. **Code Splitting**

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∏–º–ø–æ—Ä—Ç—ã –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- Lazy loading –¥–ª—è —Ñ–æ—Ä–º –∏ –º–æ–¥–∞–ª—å–Ω—ã—Ö –æ–∫–æ–Ω
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ vendor –∏ app –∫–æ–¥–∞

### 3. **Webpack –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

- Bundle splitting –¥–ª—è MUI, React, Next.js
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è cache groups —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- Tree shaking –¥–ª—è production —Å–±–æ—Ä–∫–∏
- –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã —Ä–∞–∑–º–µ—Ä—ã —á–∞–Ω–∫–æ–≤ (minSize: 20KB, maxSize: 244KB)

### 4. **Dynamic Imports**

```tsx
// –í–º–µ—Å—Ç–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∏–º–ø–æ—Ä—Ç–∞
import PetList from "@/components/Profile/PetList";

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π –∏–º–ø–æ—Ä—Ç
const DynamicPetList = dynamic(() => import("@/components/Profile/PetList"), {
  loading: () => <div>–ó–∞–≥—Ä—É–∑–∫–∞...</div>,
  ssr: false,
});
```

### 5. **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ WebP –∏ AVIF —Ñ–æ—Ä–º–∞—Ç–æ–≤
- Responsive images —Å deviceSizes
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∫—ç—à –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- Lazy loading –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –Ω–∏–∂–µ fold

## üìà **–û–∂–∏–¥–∞–µ–º—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã**

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- Profile page: 204 kB
- Shared chunks: 103 kB
- –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ~400 kB

### –ü–æ—Å–ª–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

- Profile page: ~120 kB (-40%)
- Shared chunks: ~60 kB (-40%)
- –û–±—â–∏–π —Ä–∞–∑–º–µ—Ä: ~250 kB (-35%)

## üõ†Ô∏è **–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞**

### Bundle Analyzer

```bash
npm run analyze
```

### –ê–Ω–∞–ª–∏–∑ —Ä–∞–∑–º–µ—Ä–∞

```bash
npm run analyze:build
```

## üìã **–ß–µ–∫-–ª–∏—Å—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏**

### ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–æ:

- [x] Tree shaking –¥–ª—è MUI
- [x] Code splitting –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [x] Webpack –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Å –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏
- [x] Dynamic imports –¥–ª—è –≤—Å–µ—Ö —Ç—è–∂–µ–ª—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- [x] Bundle analyzer
- [x] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [x] –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–æ–≤

### üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ:

- [ ] –ó–∞–º–µ–Ω–∞ –≤—Å–µ—Ö –∏–º–ø–æ—Ä—Ç–æ–≤ MUI –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
- [ ] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è middleware

### üìù –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è:

- [ ] WebP –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- [ ] Service Worker –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
- [ ] Preload –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

## üéØ **–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è**

1. **First Load JS** - –¥–æ–ª–∂–Ω–æ —É–º–µ–Ω—å—à–∏—Ç—å—Å—è –Ω–∞ 30-40%
2. **LCP (Largest Contentful Paint)** - —É–ª—É—á—à–µ–Ω–∏–µ –Ω–∞ 20-30%
3. **FID (First Input Delay)** - —Å—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
4. **CLS (Cumulative Layout Shift)** - —É–ª—É—á—à–µ–Ω–∏–µ

## üîß **–ö–æ–º–∞–Ω–¥—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**

```bash
# –ê–Ω–∞–ª–∏–∑ –±–∞–Ω–¥–ª–∞
npm run analyze

# –°–±–æ—Ä–∫–∞ —Å –∞–Ω–∞–ª–∏–∑–æ–º
npm run analyze:build

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤
npm run typecheck

# –õ–∏–Ω—Ç–∏–Ω–≥
npm run lint
```

## üìä **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏**

### Core Web Vitals —Ü–µ–ª–∏:

- **LCP**: < 2.5s
- **FID**: < 100ms
- **CLS**: < 0.1

### Bundle —Ä–∞–∑–º–µ—Ä—ã —Ü–µ–ª–∏:

- **First Load JS**: < 200KB
- **Shared chunks**: < 80KB
- **Individual pages**: < 150KB

## üö® **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–ª—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è**

1. **Profile page 204KB** - —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π
2. **Statistics page 400KB** - –∫—Ä–∏—Ç–∏—á–Ω–æ –±–æ–ª—å—à–æ–π
3. **Middleware 60KB** - –º–æ–∂–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å
4. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ tree shaking** –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

## üìù **–ü–ª–∞–Ω –¥–µ–π—Å—Ç–≤–∏–π**

### –≠—Ç–∞–ø 1 (1 –Ω–µ–¥–µ–ª—è): –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

- [ ] –ó–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã MUI –Ω–∞ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ
- [ ] –î–æ–±–∞–≤–∏—Ç—å dynamic imports –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Profile –∏ Statistics —Å—Ç—Ä–∞–Ω–∏—Ü—ã

### –≠—Ç–∞–ø 2 (1 –Ω–µ–¥–µ–ª—è): –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

- [ ] –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å middleware
- [ ] –î–æ–±–∞–≤–∏—Ç—å preload –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤

### –≠—Ç–∞–ø 3 (1 –Ω–µ–¥–µ–ª—è): –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ Core Web Vitals
- [ ] –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å Service Worker –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ
